"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[838],{1699:function(n,e,i){i.d(e,{Gc:function(){return u},LK:function(){return d},ZP:function(){return c}});var t=i(74165),r=i(15861),a=i(29439),l=i(72791),o=i(12803);function c(){var n=(0,l.useState)({}),e=(0,a.Z)(n,2),i=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.student.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}function d(n){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)((0,t.Z)().mark((function n(e){var i,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.student.create(e);case 2:return i=n.sent,r=i.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n,e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,t.Z)().mark((function n(e,i){var r,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.student.update(i,e);case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,i){i.d(e,{O:function(){return d}});var t=i(1413),r=i(53767),a=i(49900),l=i(54852),o=i(63065),c=i(80184);function d(n){var e=n.primary,i=n.secondary,d=n.alt,s=n.src,u=n.sx;return(0,c.jsxs)(r.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,t.Z)({},u),children:[s&&(0,c.jsx)(l.Z,{alt:d,src:s,variant:"rounded"}),(0,c.jsx)(a.Z,{primary:(0,c.jsx)(o.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,c.jsx)(o.Z,{variant:"caption",color:"text.disabled",line:1,children:i||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,i){i.d(e,{Z:function(){return v}});var t=i(1413),r=i(45987),a=i(72791),l=i(50533),o=i(4567),c=i(13967),d=i(68051);function s(n){var e,i=(0,c.Z)(),t=(0,d.z)(),r=i.breakpoints.up("xl"===t?"lg":t),a=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&i.typography[n][r]?i.typography[n][r]:i.typography[n],l=(e=a.fontSize,Math.round(16*parseFloat(e))),o=Number(i.typography[n].lineHeight)*l,s=i.typography[n];return{fontSize:l,lineHeight:o,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing}}var u=i(80184),h=["asLink","variant","line","persistent","children","sx"],v=(0,a.forwardRef)((function(n,e){var i=n.asLink,a=n.variant,c=void 0===a?"body1":a,d=n.line,v=void 0===d?2:d,p=n.persistent,f=void 0!==p&&p,x=n.children,m=n.sx,b=(0,r.Z)(n,h),y=s(c).lineHeight,g=(0,t.Z)((0,t.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:v,WebkitBoxOrient:"vertical"},f&&{height:y*v}),m);return i?(0,u.jsx)(l.Z,(0,t.Z)((0,t.Z)({color:"inherit",ref:e,variant:c,sx:(0,t.Z)({},g)},b),{},{children:x})):(0,u.jsx)(o.Z,(0,t.Z)((0,t.Z)({ref:e,variant:c,sx:(0,t.Z)({},g)},b),{},{children:x}))}))},9542:function(n,e,i){i.r(e),i.d(e,{default:function(){return L}});var t=i(6907),r=i(1413),a=i(72791),l=i(54406),o=i(19089),c=i(1699),d=i(7055),s=i(34055),u=i(65478),h=i(244),v=i(74165),p=i(15861),f=i(44695),x=i(61134),m=i(8007),b=i(46002),y=i(30439),g=i(5574),Z=i(97123),j=i(39157),_=i(65661),w=i(61889),k=i(82626),S=i(53767),N=i(72369),M=i(11857),C=i(80184);function T(n){var e=n.open,i=n.onClose,t=n.classes,l=(0,h.S)(),o=l._table_row_selected,d=l.onSetTableRowSelected,u=l.onCreateNewRow,T=l.onUpdateRow,q=!!o,D=(0,M.Ds)().enqueueSnackbar,L=m.Ry().shape({name:m.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean h\u1ecdc sinh !"),studentId:m.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp m\xe3 h\u1ecdc sinh !"),dob:m.nK(),class:m.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn l\u1edbp cho h\u1ecdc sinh !"),gender:m.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn gi\u1edbi t\xednh cho h\u1ecdc sinh !")}),P=(0,a.useMemo)((function(){var n;return{name:(null===o||void 0===o?void 0:o.name)||"",studentId:(null===o||void 0===o?void 0:o.studentId)||"",dob:(0,s.Mu)(null===o||void 0===o?void 0:o.dob,"yyyy-MM-dd")||new Date,class:(null===o||void 0===o||null===(n=o.class)||void 0===n?void 0:n.id)||"",gender:(null===o||void 0===o?void 0:o.gender)||!1}}),[o]),H=(0,x.cI)({resolver:(0,f.X)(L),defaultValues:P}),I=H.reset,O=H.handleSubmit,R=H.formState.isSubmitting;(0,a.useEffect)((function(){I(P)}),[I,o,P]);var W=O(function(){var n=(0,p.Z)((0,v.Z)().mark((function n(e){var i,t,a,l,d;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=(0,r.Z)((0,r.Z)({},e),{},{gender:"false"!==e.gender,dob:new Date(null===e||void 0===e?void 0:e.dob),class:{connect:{id:+e.class}}}),t=(new Date).getTime(),n.prev=2,!((null===i||void 0===i||null===(a=i.dob)||void 0===a?void 0:a.getTime())>t)){n.next=7;break}D("Ng\xe0y sinh kh\xf4ng l\u1edbn h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i !",{variant:"error"}),n.next=22;break;case 7:if(q){n.next=15;break}return n.next=10,(0,c.LK)(i);case 10:l=n.sent,u(l),D("\u0110\xe3 th\xeam d\u1eef li\u1ec7u h\u1ecdc sinh m\u1edbi !"),n.next=20;break;case 15:return n.next=17,(0,c.Gc)(i,o.id);case 17:d=n.sent,T(d),D("\u0110\xe3 c\u1eadp nh\u1eadt h\u1ecdc sinh ".concat(i.name," !"));case 20:I(),K();case 22:n.next=27;break;case 24:n.prev=24,n.t0=n.catch(2),D("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 27:case"end":return n.stop()}}),n,null,[[2,24]])})));return function(e){return n.apply(this,arguments)}}()),K=function(){d(null),i()};return(0,C.jsx)(g.Z,{fullWidth:!0,maxWidth:!1,open:e,onClose:K,PaperProps:{sx:{maxWidth:720}},children:(0,C.jsxs)(N.ZP,{methods:H,onSubmit:W,children:[(0,C.jsx)(_.Z,{children:q?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u h\u1ecdc sinh ".concat(null===o||void 0===o?void 0:o.name):"Th\xeam d\u1eef li\u1ec7u h\u1ecdc sinh m\u1edbi"}),(0,C.jsx)(j.Z,{children:(0,C.jsxs)(w.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(w.ZP,{item:!0,xs:6,children:(0,C.jsxs)(S.Z,{spacing:2,children:[(0,C.jsx)(N.jY,{label:"T\xean h\u1ecdc sinh :",required:!0,children:(0,C.jsx)(N.au,{name:"name",label:"T\xean h\u1ecdc sinh..."})}),(0,C.jsx)(N.jY,{label:"M\xe3 s\u1ed1 h\u1ecdc sinh :",required:!0,children:(0,C.jsx)(N.au,{name:"studentId",label:"M\xe3 h\u1ecdc sinh..."})})]})}),(0,C.jsx)(w.ZP,{item:!0,xs:6,children:(0,C.jsxs)(S.Z,{spacing:2,children:[(0,C.jsx)(N.jY,{label:"Gi\u1edbi t\xednh h\u1ecdc sinh :",required:!0,children:(0,C.jsx)(N.Cc,{name:"gender",label:"Ch\u1ecdn gi\u1edbi t\xednh",children:[{label:"Nam",value:!0},{label:"N\u1eef",value:!1}].map((function(n){return(0,C.jsx)(k.Z,{value:null===n||void 0===n?void 0:n.value,children:null===n||void 0===n?void 0:n.label},null===n||void 0===n?void 0:n.label)}))})}),(0,C.jsx)(N.jY,{label:"Ng\xe0y sinh :",required:!0,children:(0,C.jsx)(N.au,{type:"date",name:"dob",label:"Ng\xe0y sinh..."})})]})}),(0,C.jsx)(w.ZP,{item:!0,xs:12,children:(0,C.jsx)(N.jY,{label:"H\u1ecdc sinh thu\u1ed9c l\u1edbp h\u1ecdc :",required:!0,children:(0,C.jsx)(N.Cc,{name:"class",label:"Ch\u1ecdn l\u1edbp h\u1ecdc...",children:null===t||void 0===t?void 0:t.map((function(n){var e;return(0,C.jsx)(k.Z,{value:null===n||void 0===n?void 0:n.id,children:"L\u1edbp ".concat(null===n||void 0===n||null===(e=n.grade)||void 0===e?void 0:e.label).concat(null===n||void 0===n?void 0:n.name)})}))})})})]})}),(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(y.Z,{variant:"outlined",onClick:K,children:"Hu\u1ef7 b\u1ecf"}),(0,C.jsx)(b.Z,{type:"submit",color:"primary",variant:"contained",loading:R,children:q?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var q=i(62659);function D(){var n=(0,c.ZP)().data,e=(0,o.ZP)().data,i=(0,h.S)(),t=i._table_data,v=i._table_open_form,p=i.onSetOpenForm,f=i.onSetTableData,x=i.onSetTableHeader,m=i.onSetTableRows,b=i.onSetTableRowCollapse,y=i.onSetExportTableData,g=i.onSetConfigTable;return(0,a.useEffect)((function(){f(null===n||void 0===n?void 0:n.map((function(n){var e,i,t;return(0,r.Z)((0,r.Z)({},n),{},{type:"L\u1edbp ".concat(null===n||void 0===n||null===(e=n.class)||void 0===e||null===(i=e.grade)||void 0===i?void 0:i.label).concat(null===n||void 0===n||null===(t=n.class)||void 0===t?void 0:t.name)})}))),g({table_name:"student",add_new:!0,filter_by_date:!0,filter_by_type:!0,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!1,edit_row:!0,delete_row:!0}),x(q.x),m(q.i),b(null)}),[n]),(0,a.useEffect)((function(){y(null===t||void 0===t?void 0:t.map((function(n){var e,i,t;return{"M\xe3 h\u1ecdc sinh":null===n||void 0===n?void 0:n.studentId,"T\xean h\u1ecdc sinh":null===n||void 0===n?void 0:n.name,"Ng\xe0y sinh":(0,s.Mu)(null===n||void 0===n?void 0:n.dob),"Gi\u1edbi t\xednh":null!==n&&void 0!==n&&n.gender?"Nam":"N\u1eef","Thu\u1ed9c l\u1edbp":"L\u1edbp ".concat(null===n||void 0===n||null===(e=n.class)||void 0===e||null===(i=e.grade)||void 0===i?void 0:i.label).concat(null===(t=n.class)||void 0===t?void 0:t.name),"Ng\xe0y t\u1ea1o":(0,s.zM)(null===n||void 0===n?void 0:n.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,s.zM)(null===n||void 0===n?void 0:n.updatedAt)}})))}),[t]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Z,{heading:"Danh s\xe1ch h\u1ecdc sinh",links:[{name:"H\u1ecdc sinh"},{name:"Danh s\xe1ch",href:d.H.home.student.root},{name:"Danh s\xe1ch h\u1ecdc sinh"}],sx:{mb:{xs:3,md:5}}}),(0,C.jsx)(u.Z,{}),(0,C.jsx)(T,{open:v,onClose:function(){return p(!1)},classes:e})]})}function L(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(t.ql,{children:(0,C.jsx)("title",{children:" Danh s\xe1ch h\u1ecdc sinh "})}),(0,C.jsx)(D,{})]})}},62659:function(n,e,i){i.d(e,{i:function(){return c},x:function(){return o}});var t=i(68745),r=i(90651),a=i(34055),l=i(80184),o=[{id:"name",label:"T\xean h\u1ecdc sinh",flex:1},{id:"studentId",label:"Ng\xe0y sinh",flex:1,align:"center"},{id:"class",label:"L\u1edbp \u0111ang h\u1ecdc",flex:1,align:"center"},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],c=function(n){var e,i,o,c,d,s,u;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.Z,{children:(0,l.jsx)(r.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.studentId})}),(0,l.jsx)(t.Z,{align:"center",children:(0,l.jsx)(r.O,{primary:(0,a.Mu)(null===n||void 0===n?void 0:n.dob,"dd/MM/yyyy"),secondary:"Gi\u1edbi t\xednh : ".concat(null!==n&&void 0!==n&&n.gender?"Nam":"N\u1eef")})}),(0,l.jsx)(t.Z,{align:"center",children:(0,l.jsx)(r.O,{primary:"L\u1edbp ".concat(null===n||void 0===n||null===(e=n.class)||void 0===e||null===(i=e.grade)||void 0===i?void 0:i.label).concat(null===n||void 0===n||null===(o=n.class)||void 0===o?void 0:o.name),secondary:"Ni\xean kho\xe1 ".concat((0,a.Mu)(null===n||void 0===n||null===(c=n.class)||void 0===c||null===(d=c.year)||void 0===d?void 0:d.start,"yyyy")," - ").concat((0,a.Mu)(null===n||void 0===n||null===(s=n.class)||void 0===s||null===(u=s.year)||void 0===u?void 0:u.end,"yyyy"))})})]})}}}]);
//# sourceMappingURL=838.21e82a07.chunk.js.map