"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[564],{55164:function(n,e,t){t.d(e,{LX:function(){return s},ZP:function(){return c},q$:function(){return u}});var r=t(74165),i=t(15861),a=t(29439),l=t(72791),o=t(12803);function c(){var n=(0,l.useState)({}),e=(0,a.Z)(n,2),t=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.grade.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function u(n){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.grade.create(e);case 2:return t=n.sent,i=t.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n,e){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.grade.update(t,e);case 2:return i=n.sent,a=i.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},26635:function(n,e,t){t.d(e,{$k:function(){return s},ZP:function(){return c},w1:function(){return u}});var r=t(74165),i=t(15861),a=t(29439),l=t(72791),o=t(12803);function c(){var n=(0,l.useState)({status:500}),e=(0,a.Z)(n,2),t=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.year.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function u(n){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.year.create(e);case 2:return t=n.sent,i=t.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n,e){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.course.offline.year.update(t,e);case 2:return i=n.sent,a=i.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,t){t.d(e,{O:function(){return u}});var r=t(1413),i=t(53767),a=t(49900),l=t(54852),o=t(63065),c=t(80184);function u(n){var e=n.primary,t=n.secondary,u=n.alt,d=n.src,s=n.sx;return(0,c.jsxs)(i.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,r.Z)({},s),children:[d&&(0,c.jsx)(l.Z,{alt:u,src:d,variant:"rounded"}),(0,c.jsx)(a.Z,{primary:(0,c.jsx)(o.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,c.jsx)(o.Z,{variant:"caption",color:"text.disabled",line:1,children:t||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,t){t.d(e,{Z:function(){return v}});var r=t(1413),i=t(45987),a=t(72791),l=t(50533),o=t(4567),c=t(13967),u=t(68051);function d(n){var e,t=(0,c.Z)(),r=(0,u.z)(),i=t.breakpoints.up("xl"===r?"lg":r),a=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&t.typography[n][i]?t.typography[n][i]:t.typography[n],l=(e=a.fontSize,Math.round(16*parseFloat(e))),o=Number(t.typography[n].lineHeight)*l,d=t.typography[n];return{fontSize:l,lineHeight:o,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing}}var s=t(80184),h=["asLink","variant","line","persistent","children","sx"],v=(0,a.forwardRef)((function(n,e){var t=n.asLink,a=n.variant,c=void 0===a?"body1":a,u=n.line,v=void 0===u?2:u,p=n.persistent,f=void 0!==p&&p,y=n.children,x=n.sx,Z=(0,i.Z)(n,h),m=d(c).lineHeight,b=(0,r.Z)((0,r.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:v,WebkitBoxOrient:"vertical"},f&&{height:m*v}),x);return t?(0,s.jsx)(l.Z,(0,r.Z)((0,r.Z)({color:"inherit",ref:e,variant:c,sx:(0,r.Z)({},b)},Z),{},{children:y})):(0,s.jsx)(o.Z,(0,r.Z)((0,r.Z)({ref:e,variant:c,sx:(0,r.Z)({},b)},Z),{},{children:y}))}))},66054:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(6907),i=t(1413),a=t(72791),l=t(54406),o=t(19089),c=t(55164),u=t(26635),d=t(7055),s=t(34055),h=t(65478),v=t(244),p=t(74165),f=t(15861),y=t(44695),x=t(61134),Z=t(8007),m=t(46002),b=t(63515),g=t(30439),j=t(5574),M=t(97123),k=t(39157),w=t(65661),_=t(61889),S=t(82626),C=t(53767),T=t(72369),H=t(11857),q=t(80184);function P(n){var e=n.open,t=n.onClose,r=n.grades,l=n.years,c=(0,v.S)(),u=c._table_row_selected,d=c.onSetTableRowSelected,h=c.onCreateNewRow,P=c.onUpdateRow,A=!!u,N=(0,H.Ds)().enqueueSnackbar,L=Z.Ry().shape({name:Z.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean l\u1edbp h\u1ecdc !"),grade:Z.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn kh\u1ed1i l\u1edbp !"),year:Z.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn ni\xean kho\xe1 !")}),R=(0,a.useMemo)((function(){var n,e;return{name:(null===u||void 0===u?void 0:u.name)||"A1",grade:(null===u||void 0===u||null===(n=u.grade)||void 0===n?void 0:n.id)||"",year:(null===u||void 0===u||null===(e=u.year)||void 0===e?void 0:e.id)||""}}),[u]),W=(0,x.cI)({resolver:(0,y.X)(L),defaultValues:R}),B=W.reset,E=W.handleSubmit,O=W.formState.isSubmitting;(0,a.useEffect)((function(){B(R)}),[B,u,R]);var z=E(function(){var n=(0,f.Z)((0,p.Z)().mark((function n(e){var t,r,a,l,c,d,v;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=(0,i.Z)((0,i.Z)({},e),{},{grade:{connect:{id:+e.grade}},year:{connect:{id:+e.year}}}),n.prev=1,A){n.next=10;break}return n.next=5,(0,o.qH)(t);case 5:l=n.sent,h((0,i.Z)((0,i.Z)({},l),{},{type:"".concat((0,s.Mu)(null===l||void 0===l||null===(r=l.year)||void 0===r?void 0:r.start,"MM/yyyy")," - ").concat((0,s.Mu)(null===l||void 0===l||null===(a=l.year)||void 0===a?void 0:a.end,"MM/yyyy"))})),N("\u0110\xe3 th\xeam d\u1eef li\u1ec7u l\u1edbp h\u1ecdc m\u1edbi !"),n.next=15;break;case 10:return n.next=12,(0,o.a7)(t,u.id);case 12:v=n.sent,P((0,i.Z)((0,i.Z)({},v),{},{type:"".concat((0,s.Mu)(null===v||void 0===v||null===(c=v.year)||void 0===c?void 0:c.start,"MM/yyyy")," - ").concat((0,s.Mu)(null===v||void 0===v||null===(d=v.year)||void 0===d?void 0:d.end,"MM/yyyy"))})),N("\u0110\xe3 c\u1eadp nh\u1eadt l\u1edbp h\u1ecdc ".concat(e.name," !"));case 15:B(),D(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(1),N("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 22:case"end":return n.stop()}}),n,null,[[1,19]])})));return function(e){return n.apply(this,arguments)}}()),D=function(){d(null),t()};return(0,q.jsx)(j.Z,{fullWidth:!0,maxWidth:!1,open:e,onClose:D,PaperProps:{sx:{maxWidth:720}},children:(0,q.jsxs)(T.ZP,{methods:W,onSubmit:z,children:[(0,q.jsx)(w.Z,{children:A?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u l\u1edbp h\u1ecdc ".concat(null===u||void 0===u?void 0:u.name):"Th\xeam d\u1eef li\u1ec7u l\u1edbp h\u1ecdc m\u1edbi"}),(0,q.jsxs)(k.Z,{children:[(0,q.jsx)(b.Z,{variant:"outlined",severity:"info",sx:{mb:3},children:"Ghi ch\xfa : H\u1eadu t\u1ed1 l\u1edbp l\xe0 m\xe3 l\u1edbp ph\xeda sau kh\u1ed1i l\u1edbp, v\xed d\u1ee5 12A1 th\xec h\u1eadu t\u1ed1 l\xe0 A1..."}),(0,q.jsx)(_.ZP,{container:!0,spacing:2,children:(0,q.jsx)(_.ZP,{item:!0,xs:12,children:(0,q.jsxs)(C.Z,{spacing:2,children:[(0,q.jsxs)(C.Z,{spacing:2,direction:"row",children:[(0,q.jsx)(T.jY,{label:"Ch\u1ecdn kh\u1ed1i l\u1edbp :",required:!0,sx:{width:"100%"},children:(0,q.jsx)(T.Cc,{name:"grade",label:"Ch\u1ecdn kh\u1ed1i l\u1edbp...",children:null===r||void 0===r?void 0:r.map((function(n){return(0,q.jsx)(S.Z,{value:n.id,children:"Kh\u1ed1i l\u1edbp ".concat(n.label)},n.id)}))})}),(0,q.jsx)(T.jY,{label:"H\u1eadu t\u1ed1 l\u1edbp h\u1ecdc :",required:!0,sx:{width:"100%"},children:(0,q.jsx)(T.au,{name:"name",label:"V\xed d\u1ee5 A1, A2, B1, C1..."})})]}),(0,q.jsx)(T.jY,{label:"Ch\u1ecdn ni\xean kho\xe1 :",required:!0,children:(0,q.jsx)(T.Cc,{name:"year",label:"Ch\u1ecdn ni\xean kho\xe1...",children:null===l||void 0===l?void 0:l.map((function(n){return(0,q.jsx)(S.Z,{value:n.id,children:"".concat((0,s.Mu)(null===n||void 0===n?void 0:n.start,"MM/yyyy")," - ").concat((0,s.Mu)(null===n||void 0===n?void 0:n.end,"MM/yyyy"))},n.id)}))})})]})})})]}),(0,q.jsxs)(M.Z,{children:[(0,q.jsx)(g.Z,{variant:"outlined",onClick:D,children:"Hu\u1ef7 b\u1ecf"}),(0,q.jsx)(m.Z,{type:"submit",color:"primary",variant:"contained",loading:O,children:A?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var A=t(90651),N=t(27938),L=t(68745),R=[{id:"name",label:"T\xean l\u1edbp h\u1ecdc",flex:1},{id:"year",label:"Ni\xean kho\xe1",flex:1},{id:"members",label:"H\u1ecdc sinh",flex:1,align:"center"},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"classes",label:"Danh s\xe1ch h\u1ecdc sinh",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],W=function(n){var e,t,r,i,a;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(L.Z,{children:(0,q.jsx)(A.O,{primary:"L\u1edbp ".concat(null===n||void 0===n||null===(e=n.grade)||void 0===e?void 0:e.label).concat(null===n||void 0===n?void 0:n.name),secondary:"Thu\u1ed9c kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n||null===(t=n.grade)||void 0===t?void 0:t.label)})}),(0,q.jsx)(L.Z,{children:"".concat((0,s.Mu)(null===n||void 0===n||null===(r=n.year)||void 0===r?void 0:r.start,"MM/yyyy")," - ").concat((0,s.Mu)(null===n||void 0===n||null===(i=n.year)||void 0===i?void 0:i.end,"MM/yyyy"))}),(0,q.jsxs)(L.Z,{align:"center",children:[(null===n||void 0===n||null===(a=n.students)||void 0===a?void 0:a.length)||0," h\u1ecdc sinh"]})]})},B=function(n){var e;return(0,q.jsx)(C.Z,{component:N.Z,sx:{m:1.5},children:null===n||void 0===n||null===(e=n.students)||void 0===e?void 0:e.map((function(n){return(0,q.jsx)(C.Z,{direction:"row",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(n){return"solid 2px ".concat(n.palette.background.neutral)}}},children:(0,q.jsx)(A.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.studentId})},null===n||void 0===n?void 0:n._id)}))})};function E(){var n=(0,v.S)(),e=n._table_data,t=n._table_open_form,r=n.onSetOpenForm,p=n.onSetTableData,f=n.onSetTableHeader,y=n.onSetTableRows,x=n.onSetTableRowCollapse,Z=n.onSetExportTableData,m=n.onSetConfigTable,b=(0,o.ZP)().data,g=(0,c.ZP)().data,j=(0,u.ZP)().data;return(0,a.useEffect)((function(){p(null===b||void 0===b?void 0:b.map((function(n){var e,t;return(0,i.Z)((0,i.Z)({},n),{},{type:"".concat((0,s.Mu)(null===n||void 0===n||null===(e=n.year)||void 0===e?void 0:e.start,"MM/yyyy")," - ").concat((0,s.Mu)(null===n||void 0===n||null===(t=n.year)||void 0===t?void 0:t.end,"MM/yyyy"))})}))),m({table_name:"class",add_new:!0,filter_by_date:!0,filter_by_type:!0,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),f(R),y(W),x(B)}),[b]),(0,a.useEffect)((function(){Z(null===e||void 0===e?void 0:e.map((function(n){var e,t,r,i,a;return{"T\xean l\u1edbp h\u1ecdc":"L\u1edbp ".concat(null===n||void 0===n||null===(e=n.grade)||void 0===e?void 0:e.label).concat(null===n||void 0===n?void 0:n.name),"Thu\u1ed9c kh\u1ed1i l\u1edbp":"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n||null===(t=n.grade)||void 0===t?void 0:t.label),"Ni\xean kho\xe1":"".concat((0,s.Mu)(null===n||void 0===n||null===(r=n.year)||void 0===r?void 0:r.start,"MM/yyyy")," - ").concat((0,s.Mu)(null===n||void 0===n||null===(i=n.year)||void 0===i?void 0:i.end,"MM/yyyy")),"S\u1ed1 l\u01b0\u1ee3ng h\u1ecdc sinh":"".concat((null===n||void 0===n||null===(a=n.students)||void 0===a?void 0:a.length)||0," h\u1ecdc sinh"),"Ng\xe0y t\u1ea1o":(0,s.zM)(null===n||void 0===n?void 0:n.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,s.zM)(null===n||void 0===n?void 0:n.updatedAt)}})))}),[e]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(l.Z,{heading:"Qu\u1ea3n l\xfd l\u1edbp h\u1ecdc",links:[{name:"Danh m\u1ee5c"},{name:"L\u1edbp h\u1ecdc",href:d.H.home.classroom.root},{name:"Qu\u1ea3n l\xfd"}],sx:{mb:{xs:3,md:5}}}),(0,q.jsx)(h.Z,{}),(0,q.jsx)(P,{open:t,onClose:function(){return r(!1)},grades:g,years:j})]})}function O(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(r.ql,{children:(0,q.jsx)("title",{children:" Qu\u1ea3n l\xfd l\u1edbp h\u1ecdc "})}),(0,q.jsx)(E,{})]})}}}]);
//# sourceMappingURL=564.9f58ab36.chunk.js.map