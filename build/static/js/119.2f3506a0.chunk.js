"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[119],{11460:function(e,n,t){t.d(n,{C7:function(){return d},ZP:function(){return s},zI:function(){return l}});var r=t(74165),a=t(15861),i=t(29439),c=t(72791),o=t(12803);function s(){var e=(0,c.useState)({}),n=(0,i.Z)(e,2),t=n[0],s=n[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.course.offline.bookseries.findMany({});case 2:(n=e.sent)&&s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),t}function l(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.course.offline.bookseries.create(n);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,n){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.course.offline.bookseries.update(t,n);case 2:return a=e.sent,i=a.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},21497:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(6907),a=t(72791),i=t(54406),c=t(11460),o=t(7055),s=t(34055),l=t(65478),u=t(244),d=t(74165),h=t(15861),f=t(44695),p=t(61134),b=t(8007),m=t(46002),x=t(30439),v=t(5574),Z=t(97123),_=t(39157),j=t(65661),k=t(61889),w=t(53767),g=t(72369),y=t(11857),S=t(80184);function C(e){var n=e.open,t=e.onClose,r=(0,u.S)(),i=r._table_row_selected,o=r.onSetTableRowSelected,s=r.onCreateNewRow,l=r.onUpdateRow,C=!!i,T=(0,y.Ds)().enqueueSnackbar,M=b.Ry().shape({name:b.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean b\u1ed9 s\xe1ch !"),description:b.nK()}),P=(0,a.useMemo)((function(){return{name:(null===i||void 0===i?void 0:i.name)||"",description:(null===i||void 0===i?void 0:i.description)||""}}),[i]),R=(0,p.cI)({resolver:(0,f.X)(M),defaultValues:P}),D=R.reset,E=R.handleSubmit,N=R.formState.isSubmitting;(0,a.useEffect)((function(){D(P)}),[D,i,P]);var q=E(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(n){var t,r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C){e.next=9;break}return e.next=4,(0,c.zI)(n);case 4:t=e.sent,s(t),T("\u0110\xe3 th\xeam d\u1eef li\u1ec7u b\u1ed9 s\xe1ch m\u1edbi !"),e.next=14;break;case 9:return e.next=11,(0,c.C7)(n,i.id);case 11:r=e.sent,l(r),T("\u0110\xe3 c\u1eadp nh\u1eadt b\u1ed9 s\xe1ch ".concat(n.name," !"));case 14:D(),z(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),T("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(n){return e.apply(this,arguments)}}()),z=function(){o(null),t()};return(0,S.jsx)(v.Z,{fullWidth:!0,maxWidth:!1,open:n,onClose:z,PaperProps:{sx:{maxWidth:720}},children:(0,S.jsxs)(g.ZP,{methods:R,onSubmit:q,children:[(0,S.jsx)(j.Z,{children:C?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u b\u1ed9 s\xe1ch ".concat(null===i||void 0===i?void 0:i.name):"Th\xeam d\u1eef li\u1ec7u b\u1ed9 s\xe1ch m\u1edbi"}),(0,S.jsx)(_.Z,{children:(0,S.jsx)(k.ZP,{container:!0,spacing:2,children:(0,S.jsx)(k.ZP,{item:!0,xs:12,children:(0,S.jsxs)(w.Z,{spacing:2,children:[(0,S.jsx)(g.jY,{label:"T\xean b\u1ed9 s\xe1ch :",required:!0,children:(0,S.jsx)(g.au,{name:"name",label:"T\xean b\u1ed9 s\xe1ch..."})}),(0,S.jsx)(g.jY,{label:"M\xf4 t\u1ea3 b\u1ed9 s\xe1ch :",children:(0,S.jsx)(g.au,{name:"description",multiline:!0,rows:4,label:"M\xf4 t\u1ea3 b\u1ed9 s\xe1ch..."})})]})})})}),(0,S.jsxs)(Z.Z,{children:[(0,S.jsx)(x.Z,{variant:"outlined",onClick:z,children:"Hu\u1ef7 b\u1ecf"}),(0,S.jsx)(m.Z,{type:"submit",color:"primary",variant:"contained",loading:N,children:C?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var T=t(68745),M=[{id:"name",label:"T\xean b\u1ed9 s\xe1ch",flex:1},{id:"description",label:"M\xf4 t\u1ea3",flex:1},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],P=function(e){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(T.Z,{children:null===e||void 0===e?void 0:e.name}),(0,S.jsx)(T.Z,{children:null===e||void 0===e?void 0:e.description})]})};function R(){var e=(0,u.S)(),n=e._table_data,t=e._table_open_form,r=e.onSetOpenForm,d=e.onSetTableData,h=e.onSetTableHeader,f=e.onSetTableRows,p=e.onSetTableRowCollapse,b=e.onSetExportTableData,m=e.onSetConfigTable,x=(0,c.ZP)().data;return(0,a.useEffect)((function(){d(x),m({table_name:"bookseries",add_new:!0,filter_by_date:!0,filter_by_type:!1,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!1,edit_row:!0,delete_row:!0}),h(M),f(P),p(null)}),[x]),(0,a.useEffect)((function(){b(null===n||void 0===n?void 0:n.map((function(e){return{"T\xean b\u1ed9 s\xe1ch":null===e||void 0===e?void 0:e.name,"M\xf4 t\u1ea3 b\u1ed9 s\xe1ch":null===e||void 0===e?void 0:e.description,"Ng\xe0y t\u1ea1o":(0,s.zM)(null===e||void 0===e?void 0:e.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,s.zM)(null===e||void 0===e?void 0:e.updatedAt)}})))}),[n]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{heading:"Qu\u1ea3n l\xfd b\u1ed9 s\xe1ch",links:[{name:"Danh m\u1ee5c"},{name:"Danh m\u1ee5c",href:o.H.home.category.book},{name:"Qu\u1ea3n l\xfd b\u1ed9 s\xe1ch"}],sx:{mb:{xs:3,md:5}}}),(0,S.jsx)(l.Z,{}),(0,S.jsx)(C,{open:t,onClose:function(){return r(!1)}})]})}function D(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(r.ql,{children:(0,S.jsx)("title",{children:" Qu\u1ea3n l\xfd b\u1ed9 s\xe1ch "})}),(0,S.jsx)(R,{})]})}}}]);
//# sourceMappingURL=119.2f3506a0.chunk.js.map