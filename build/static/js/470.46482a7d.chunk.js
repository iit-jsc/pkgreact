"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[470],{64639:function(n,e,t){t.d(e,{TX:function(){return s},ZP:function(){return c},cy:function(){return u}});var r=t(74165),i=t(15861),a=t(29439),o=t(72791),l=t(12803);function c(){var n=(0,o.useState)({}),e=(0,a.Z)(n,2),t=e[0],c=e[1];return(0,o.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.school.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function s(n){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.school.create(e);case 2:return t=n.sent,i=t.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n,e){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.school.update(t,e);case 2:return i=n.sent,a=i.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,t){t.d(e,{O:function(){return s}});var r=t(1413),i=t(53767),a=t(49900),o=t(54852),l=t(63065),c=t(80184);function s(n){var e=n.primary,t=n.secondary,s=n.alt,d=n.src,u=n.sx;return(0,c.jsxs)(i.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,r.Z)({},u),children:[d&&(0,c.jsx)(o.Z,{alt:s,src:d,variant:"rounded"}),(0,c.jsx)(a.Z,{primary:(0,c.jsx)(l.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,c.jsx)(l.Z,{variant:"caption",color:"text.disabled",line:1,children:t||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,t){t.d(e,{Z:function(){return p}});var r=t(1413),i=t(45987),a=t(72791),o=t(50533),l=t(4567),c=t(13967),s=t(68051);function d(n){var e,t=(0,c.Z)(),r=(0,s.z)(),i=t.breakpoints.up("xl"===r?"lg":r),a=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&t.typography[n][i]?t.typography[n][i]:t.typography[n],o=(e=a.fontSize,Math.round(16*parseFloat(e))),l=Number(t.typography[n].lineHeight)*o,d=t.typography[n];return{fontSize:o,lineHeight:l,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing}}var u=t(80184),h=["asLink","variant","line","persistent","children","sx"],p=(0,a.forwardRef)((function(n,e){var t=n.asLink,a=n.variant,c=void 0===a?"body1":a,s=n.line,p=void 0===s?2:s,f=n.persistent,x=void 0!==f&&f,v=n.children,g=n.sx,m=(0,i.Z)(n,h),Z=d(c).lineHeight,b=(0,r.Z)((0,r.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:p,WebkitBoxOrient:"vertical"},x&&{height:Z*p}),g);return t?(0,u.jsx)(o.Z,(0,r.Z)((0,r.Z)({color:"inherit",ref:e,variant:c,sx:(0,r.Z)({},b)},m),{},{children:v})):(0,u.jsx)(l.Z,(0,r.Z)((0,r.Z)({ref:e,variant:c,sx:(0,r.Z)({},b)},m),{},{children:v}))}))},12922:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(6907),i=t(72791),a=t(54406),o=t(64639),l=t(7055),c=t(34055),s=t(65478),d=t(244),u=t(74165),h=t(15861),p=t(44695),f=t(61134),x=t(8007),v=t(46002),g=t(63515),m=t(30439),Z=t(5574),b=t(97123),j=t(39157),y=t(65661),_=t(61889),k=t(53767),w=t(72369),S=t(11857),T=t(80184);function C(n){var e=n.open,t=n.onClose,r=(0,d.S)(),a=r._table_row_selected,l=r.onSetTableRowSelected,c=r.onCreateNewRow,s=r.onUpdateRow,C=!!a,M=(0,S.Ds)().enqueueSnackbar,H=x.Ry().shape({code:x.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp m\xe3 tr\u01b0\u1eddng h\u1ecdc !"),name:x.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean tr\u01b0\u1eddng h\u1ecdc !"),description:x.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp m\xf4 t\u1ea3 tr\u01b0\u1eddng h\u1ecdc !")}),q=(0,i.useMemo)((function(){return{code:(null===a||void 0===a?void 0:a.code)||"",name:(null===a||void 0===a?void 0:a.name)||"",description:(null===a||void 0===a?void 0:a.description)||""}}),[a]),W=(0,f.cI)({resolver:(0,p.X)(H),defaultValues:q}),P=W.reset,R=W.handleSubmit,N=W.formState.isSubmitting;(0,i.useEffect)((function(){P(q)}),[P,a,q]);var O=R(function(){var n=(0,h.Z)((0,u.Z)().mark((function n(e){var t,r;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,C){n.next=9;break}return n.next=4,(0,o.TX)(e);case 4:t=n.sent,c(t),M("\u0110\xe3 th\xeam d\u1eef li\u1ec7u tr\u01b0\u1eddng h\u1ecdc m\u1edbi !"),n.next=14;break;case 9:return n.next=11,(0,o.cy)(e,a.id);case 11:r=n.sent,s(r),M("\u0110\xe3 c\u1eadp nh\u1eadt tr\u01b0\u1eddng h\u1ecdc ".concat(e.name," !"));case 14:P(),z(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),M("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 21:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(e){return n.apply(this,arguments)}}()),z=function(){l(null),t()};return(0,T.jsx)(Z.Z,{fullWidth:!0,maxWidth:!1,open:e,onClose:z,PaperProps:{sx:{maxWidth:720}},children:(0,T.jsxs)(w.ZP,{methods:W,onSubmit:O,children:[(0,T.jsx)(y.Z,{children:C?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u tr\u01b0\u1eddng h\u1ecdc ".concat(null===a||void 0===a?void 0:a.name):"Th\xeam d\u1eef li\u1ec7u tr\u01b0\u1eddng h\u1ecdc m\u1edbi"}),(0,T.jsxs)(j.Z,{children:[(0,T.jsx)(g.Z,{variant:"outlined",severity:"info",sx:{mb:3},children:"Ghi ch\xfa : M\xe3 tr\u01b0\u1eddng l\xe0 vi\u1ebft t\u1eaft c\u1ee7a tr\u01b0\u1eddng v\xed d\u1ee5 : CTU, HTU, THCSTT1,..."}),(0,T.jsx)(_.ZP,{container:!0,spacing:2,children:(0,T.jsx)(_.ZP,{item:!0,xs:12,children:(0,T.jsxs)(k.Z,{spacing:2,children:[(0,T.jsx)(w.jY,{label:"M\xe3 tr\u01b0\u1eddng h\u1ecdc :",required:!0,children:(0,T.jsx)(w.au,{name:"code",label:"M\xe3 tr\u01b0\u1eddng h\u1ecdc..."})}),(0,T.jsx)(w.jY,{label:"T\xean tr\u01b0\u1eddng h\u1ecdc:",required:!0,children:(0,T.jsx)(w.au,{name:"name",label:"T\xean tr\u01b0\u1eddng h\u1ecdc..."})}),(0,T.jsx)(w.jY,{label:"M\xf4 t\u1ea3 tr\u01b0\u1eddng h\u1ecdc :",required:!0,children:(0,T.jsx)(w.au,{name:"description",label:"M\xf4 t\u1ea3 tr\u01b0\u1eddng h\u1ecdc...",multiline:!0,rows:4})})]})})})]}),(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(m.Z,{variant:"outlined",onClick:z,children:"Hu\u1ef7 b\u1ecf"}),(0,T.jsx)(v.Z,{type:"submit",color:"primary",variant:"contained",loading:N,children:C?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var M=t(90651),H=t(27938),q=t(68745),W=[{id:"code",label:"M\xe3 tr\u01b0\u1eddng",flex:1},{id:"name",label:"Th\xf4ng tin tr\u01b0\u1eddng",flex:1},{id:"grade",label:"S\u1ed1 kh\u1ed1i l\u1edbp",flex:1,align:"center"},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"grades",label:"Danh s\xe1ch kh\u1ed1i l\u1edbp",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],P=function(n){var e;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(q.Z,{sx:{fontWeight:900},children:null===n||void 0===n?void 0:n.code}),(0,T.jsx)(q.Z,{children:(0,T.jsx)(M.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.name,alt:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.logo})}),(0,T.jsx)(q.Z,{align:"center",children:"T\u1ed5ng ".concat((null===n||void 0===n||null===(e=n.grades)||void 0===e?void 0:e.length)||0," kh\u1ed1i l\u1edbp")})]})},R=function(n){var e;return(0,T.jsx)(k.Z,{component:H.Z,sx:{m:1.5},children:null===n||void 0===n||null===(e=n.grades)||void 0===e?void 0:e.map((function(e){return(0,T.jsx)(k.Z,{direction:"row",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(n){return"solid 2px ".concat(n.palette.background.neutral)}}},children:(0,T.jsx)(M.O,{primary:"Kh\u1ed1i l\u1edbp ".concat(null===e||void 0===e?void 0:e.label),secondary:null===n||void 0===n?void 0:n.name})},null===e||void 0===e?void 0:e.id)}))})};function N(){var n=(0,d.S)(),e=n._table_data,t=n._table_open_form,r=n.onSetOpenForm,u=n.onSetTableData,h=n.onSetTableHeader,p=n.onSetTableRows,f=n.onSetTableRowCollapse,x=n.onSetExportTableData,v=n.onSetConfigTable,g=(0,o.ZP)().data;return(0,i.useEffect)((function(){u(g),v({table_name:"school",add_new:!0,filter_by_date:!0,filter_by_type:!1,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),h(W),p(P),f(R)}),[g]),(0,i.useEffect)((function(){x(null===e||void 0===e?void 0:e.map((function(n){return{"M\xe3 tr\u01b0\u1eddng":n.code,"T\xean tr\u01b0\u1eddng":n.name,"M\xf4 t\u1ea3":n.description,"G\u1ed3m c\xe1c kh\u1ed1i l\u1edbp":n.grades.map((function(n){return"Kh\u1ed1i ".concat(n.label)})).join(", "),"Ng\xe0y t\u1ea1o":(0,c.zM)(n.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,c.zM)(null===n||void 0===n?void 0:n.updatedAt)}})))}),[e]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(a.Z,{heading:"Qu\u1ea3n l\xfd tr\u01b0\u1eddng h\u1ecdc",links:[{name:"Danh m\u1ee5c"},{name:"Tr\u01b0\u1eddng h\u1ecdc",href:l.H.home.school.root},{name:"Qu\u1ea3n l\xfd"}],sx:{mb:{xs:3,md:5}}}),(0,T.jsx)(s.Z,{}),(0,T.jsx)(C,{open:t,onClose:function(){return r(!1)}})]})}function O(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(r.ql,{children:(0,T.jsx)("title",{children:" Qu\u1ea3n l\xfd tr\u01b0\u1eddng h\u1ecdc "})}),(0,T.jsx)(N,{})]})}}}]);
//# sourceMappingURL=470.46482a7d.chunk.js.map