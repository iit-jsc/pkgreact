"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[376],{63777:function(e,n,t){t.d(n,{ZP:function(){return o},k4:function(){return u},yr:function(){return d}});var r=t(74165),a=t(15861),i=t(29439),c=t(72791),l=t(12803);function o(){var e=(0,c.useState)({}),n=(0,i.Z)(e,2),t=n[0],o=n[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.course.offline.category.findMany({});case 2:(n=e.sent)&&o(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),t}function u(e){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.course.offline.category.create(n);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,n){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.course.offline.category.update(t,n);case 2:return a=e.sent,i=a.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},57387:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(6907),a=t(72791),i=t(54406),c=t(63777),l=t(7055),o=t(34055),u=t(65478),s=t(244),d=t(74165),f=t(15861),h=t(44695),p=t(61134),m=t(8007),x=t(46002),v=t(30439),b=t(5574),Z=t(97123),_=t(39157),j=t(65661),y=t(61889),g=t(53767),w=t(72369),k=t(11857),S=t(80184);function T(e){var n=e.open,t=e.onClose,r=(0,s.S)(),i=r._table_row_selected,l=r.onSetTableRowSelected,o=r.onCreateNewRow,u=r.onUpdateRow,T=!!i,C=(0,k.Ds)().enqueueSnackbar,M=m.Ry().shape({name:m.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean danh m\u1ee5c !"),description:m.nK()}),P=(0,a.useMemo)((function(){return{name:(null===i||void 0===i?void 0:i.name)||"",description:(null===i||void 0===i?void 0:i.description)||""}}),[i]),R=(0,p.cI)({resolver:(0,h.X)(M),defaultValues:P}),D=R.reset,E=R.handleSubmit,N=R.formState.isSubmitting;(0,a.useEffect)((function(){D(P)}),[D,i,P]);var q=E(function(){var e=(0,f.Z)((0,d.Z)().mark((function e(n){var t,r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,T){e.next=9;break}return e.next=4,(0,c.k4)(n);case 4:t=e.sent,o(t),C("\u0110\xe3 th\xeam d\u1eef li\u1ec7u danh m\u1ee5c m\u1edbi !"),e.next=14;break;case 9:return e.next=11,(0,c.yr)(n,i.id);case 11:r=e.sent,u(r),C("\u0110\xe3 c\u1eadp nh\u1eadt danh m\u1ee5c ".concat(n.name," !"));case 14:D(),A(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),C("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(n){return e.apply(this,arguments)}}()),A=function(){l(null),t()};return(0,S.jsx)(b.Z,{fullWidth:!0,maxWidth:!1,open:n,onClose:A,PaperProps:{sx:{maxWidth:720}},children:(0,S.jsxs)(w.ZP,{methods:R,onSubmit:q,children:[(0,S.jsx)(j.Z,{children:T?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u danh m\u1ee5c ".concat(null===i||void 0===i?void 0:i.name):"Th\xeam d\u1eef li\u1ec7u danh m\u1ee5c m\u1edbi"}),(0,S.jsx)(_.Z,{children:(0,S.jsx)(y.ZP,{container:!0,spacing:2,children:(0,S.jsx)(y.ZP,{item:!0,xs:12,children:(0,S.jsxs)(g.Z,{spacing:2,children:[(0,S.jsx)(w.jY,{label:"T\xean danh m\u1ee5c :",required:!0,children:(0,S.jsx)(w.au,{name:"name",label:"T\xean danh m\u1ee5c..."})}),(0,S.jsx)(w.jY,{label:"M\xf4 t\u1ea3 danh m\u1ee5c :",children:(0,S.jsx)(w.au,{name:"description",multiline:!0,rows:4,label:"M\xf4 t\u1ea3 danh m\u1ee5c..."})})]})})})}),(0,S.jsxs)(Z.Z,{children:[(0,S.jsx)(v.Z,{variant:"outlined",onClick:A,children:"Hu\u1ef7 b\u1ecf"}),(0,S.jsx)(x.Z,{type:"submit",color:"primary",variant:"contained",loading:N,children:T?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var C=t(68745),M=[{id:"name",label:"T\xean danh m\u1ee5c",flex:1},{id:"description",label:"M\xf4 t\u1ea3",flex:1},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],P=function(e){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C.Z,{children:null===e||void 0===e?void 0:e.name}),(0,S.jsx)(C.Z,{children:null===e||void 0===e?void 0:e.description})]})};function R(){var e=(0,s.S)(),n=e._table_data,t=e._table_open_form,r=e.onSetOpenForm,d=e.onSetTableData,f=e.onSetTableHeader,h=e.onSetTableRows,p=e.onSetTableRowCollapse,m=e.onSetExportTableData,x=e.onSetConfigTable,v=(0,c.ZP)().data;return(0,a.useEffect)((function(){d(v),x({table_name:"category",add_new:!0,filter_by_date:!0,filter_by_type:!1,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!1,edit_row:!0,delete_row:!0}),f(M),h(P),p(null)}),[v]),(0,a.useEffect)((function(){m(null===n||void 0===n?void 0:n.map((function(e){return{"T\xean danh m\u1ee5c":null===e||void 0===e?void 0:e.name,"M\xf4 t\u1ea3 danh m\u1ee5c":null===e||void 0===e?void 0:e.description,"Ng\xe0y t\u1ea1o":(0,o.zM)(null===e||void 0===e?void 0:e.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,o.zM)(null===e||void 0===e?void 0:e.updatedAt)}})))}),[n]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{heading:"Qu\u1ea3n l\xfd t\xe0i li\u1ec7u",links:[{name:"Danh m\u1ee5c"},{name:"Danh m\u1ee5c",href:l.H.home.category.type},{name:"Qu\u1ea3n l\xfd t\xe0i li\u1ec7u"}],sx:{mb:{xs:3,md:5}}}),(0,S.jsx)(u.Z,{}),(0,S.jsx)(T,{open:t,onClose:function(){return r(!1)}})]})}function D(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(r.ql,{children:(0,S.jsx)("title",{children:" Qu\u1ea3n l\xfd t\xe0i li\u1ec7u "})}),(0,S.jsx)(R,{})]})}}}]);
//# sourceMappingURL=376.ec76a1aa.chunk.js.map