(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[136],{48964:function(e,n,t){"use strict";t.d(n,{ZP:function(){return s},un:function(){return c},w0:function(){return u}});var i=t(74165),r=t(15861),l=t(29439),o=t(72791),a=t(12803);function s(){var e=(0,o.useState)({}),n=(0,l.Z)(e,2),t=n[0],s=n[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.course.offline.exam.findMany({});case 2:(n=e.sent)&&s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),t}function c(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.course.offline.exam.create(n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,i.Z)().mark((function e(n,t){var r,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.course.offline.exam.update(t,n);case 2:return r=e.sent,l=r.data,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},29554:function(e,n,t){"use strict";t.d(n,{Cn:function(){return u},HV:function(){return c},ZP:function(){return s}});var i=t(74165),r=t(15861),l=t(29439),o=t(72791),a=t(12803);function s(){var e=(0,o.useState)({}),n=(0,l.Z)(e,2),t=n[0],s=n[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.course.offline.topic.findMany({});case 2:(n=e.sent)&&s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),t}function c(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.course.offline.topic.create(n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,i.Z)().mark((function e(n,t){var r,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.course.offline.topic.update(t,n);case 2:return r=e.sent,l=r.data,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},90651:function(e,n,t){"use strict";t.d(n,{O:function(){return c}});var i=t(1413),r=t(53767),l=t(49900),o=t(54852),a=t(63065),s=t(80184);function c(e){var n=e.primary,t=e.secondary,c=e.alt,d=e.src,u=e.sx;return(0,s.jsxs)(r.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,i.Z)({},u),children:[d&&(0,s.jsx)(o.Z,{alt:c,src:d,variant:"rounded"}),(0,s.jsx)(l.Z,{primary:(0,s.jsx)(a.Z,{variant:"body2",line:1,children:n||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,s.jsx)(a.Z,{variant:"caption",color:"text.disabled",line:1,children:t||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},91661:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(36459),r=t(1413),l=t(45987),o=(t(20909),t(27060)),a=t(19945),s=t(71502),c=t(4204),d=t(50533),u=t(89302),h=t(74825),p=t(4942),v=t(66934),x=t(12065),f=(0,v.ZP)("div")((function(e){var n,t=e.theme,i="light"===t.palette.mode;return{h1:(0,r.Z)({margin:0},t.typography.h1),h2:(0,r.Z)({margin:0},t.typography.h2),h3:(0,r.Z)({margin:0},t.typography.h3),h4:(0,r.Z)({margin:0},t.typography.h4),h5:(0,r.Z)({margin:0},t.typography.h5),h6:(0,r.Z)({margin:0},t.typography.h6),p:(0,r.Z)({margin:0},t.typography.body2),br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":(n={lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral},(0,p.Z)(n,t.breakpoints.up("md"),{width:"80%"}),(0,p.Z)(n,"& p, & span",{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"}),(0,p.Z)(n,"&:before",{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}),n),"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:i?t.palette.grey[900]:(0,x.Fq)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[i?"darker":"lighter"],backgroundColor:t.palette.warning[i?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[i?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}})),m=t(80184),b=["sx"];function g(e){var n=e.sx,t=(0,l.Z)(e,b);return(0,m.jsx)(f,{sx:n,children:(0,m.jsx)(o.D,(0,r.Z)({rehypePlugins:[a.Z,c.Z,[s.Z,{singleTilde:!1}]],components:j},t))})}var j={img:function(e){var n=Object.assign({},((0,i.Z)(e),e));return(0,m.jsx)(h.Z,(0,r.Z)({alt:n.alt,ratio:"16/9",sx:{borderRadius:2}},n))},a:function(e){var n=Object.assign({},((0,i.Z)(e),e));return n.href.includes("http")?(0,m.jsx)(d.Z,(0,r.Z)({target:"_blank",rel:"noopener"},n)):(0,m.jsx)(d.Z,(0,r.Z)((0,r.Z)({component:u.r,href:n.href},n),{},{children:n.children}))}}},63065:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var i=t(1413),r=t(45987),l=t(72791),o=t(50533),a=t(4567),s=t(13967),c=t(68051);function d(e){var n,t=(0,s.Z)(),i=(0,c.z)(),r=t.breakpoints.up("xl"===i?"lg":i),l=("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e)&&t.typography[e][r]?t.typography[e][r]:t.typography[e],o=(n=l.fontSize,Math.round(16*parseFloat(n))),a=Number(t.typography[e].lineHeight)*o,d=t.typography[e];return{fontSize:o,lineHeight:a,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing}}var u=t(80184),h=["asLink","variant","line","persistent","children","sx"],p=(0,l.forwardRef)((function(e,n){var t=e.asLink,l=e.variant,s=void 0===l?"body1":l,c=e.line,p=void 0===c?2:c,v=e.persistent,x=void 0!==v&&v,f=e.children,m=e.sx,b=(0,r.Z)(e,h),g=d(s).lineHeight,j=(0,i.Z)((0,i.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:p,WebkitBoxOrient:"vertical"},x&&{height:g*p}),m);return t?(0,u.jsx)(o.Z,(0,i.Z)((0,i.Z)({color:"inherit",ref:n,variant:s,sx:(0,i.Z)({},j)},b),{},{children:f})):(0,u.jsx)(a.Z,(0,i.Z)((0,i.Z)({ref:n,variant:s,sx:(0,i.Z)({},j)},b),{},{children:f}))}))},54929:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return me}});var i=t(6907),r=t(72791),l=t(54406),o=t(48964),a=t(95305),s=t(29554),c=t(58315),d=t(7055),u=t(34055),h=t(65478),p=t(244),v=t(4942),x=t(1413),f=t(29439),m=t(74165),b=t(15861),g=t(44695),j=t(61134),y=t(8007),Z=t(41829),_=t(46002),w=t(30439),C=t(13034),k=t(5574),T=t(39157),S=t(65661),q=t(25801),V=t(61889),P=t(13400),F=t(82626),z=t(53767),B=t(4567),R=t(28275),W=t.n(R),H=t(72369),I=t(61005),N=t(93317),D=t(11857),E=t(71839),O=t(94920),M=t(91661),Y=t(22734),A=t(80184);function L(e){var n=e.question,t=(0,O.S)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(z.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",sx:{width:"40vw"},children:[(0,A.jsx)(M.Z,{children:null===n||void 0===n?void 0:n.content}),(0,A.jsx)(P.Z,{size:"small",onClick:t.onOpen,color:t.open?"inherit":"default",sx:(0,x.Z)({},t.open&&{bgcolor:"action.hover"}),children:(0,A.jsx)(I.Z,{icon:t.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})]}),(0,A.jsx)(O.Z,{open:t.open,onClose:t.onClose,arrow:"right-top",sx:{width:260},children:Array.from({length:4}).map((function(e,t){return(0,A.jsxs)(z.Z,{direction:"row",alignItems:"center",spacing:1,sx:{p:1},children:[(0,A.jsx)(B.Z,{variant:"body2",children:"\u0110\xe1p \xe1n ".concat(Y.w[t]," : ")}),(0,A.jsx)(M.Z,{children:null===n||void 0===n?void 0:n["answer0".concat(t+1)]})]},t)}))})]})}var U=t(93433),Q=t(62861),K=t(12674),X=t(94721),G=t(97123),J=t(89744),$=t(85771),ee=t(68096),ne=t(48550);function te(e){var n,t,i=e.open,l=e.onClose,o=e.subjects,a=e.filters,s=e.handleFilters,c=e.handleSetQuestion,d=(0,D.Ds)().enqueueSnackbar,u=(null===o||void 0===o||null===(n=o.filter((function(e){var n;return null===(n=a.subjects)||void 0===n?void 0:n.includes("".concat(null===e||void 0===e?void 0:e.name))}))[0])||void 0===n?void 0:n.topics)||[],h=(0,A.jsxs)(A.Fragment,{children:[a.totals.map((function(e,n){return(0,A.jsxs)(V.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,A.jsx)(V.ZP,{item:!0,xs:8,children:(0,A.jsx)(ne.Z,{type:"number",value:a.totals[n].value,onChange:function(e){return function(e){var n=e.value,t=e.index,i=(0,U.Z)(a.totals);i[t].value=Number(n),s("totals",i)}({value:Number(e.target.value),index:n})},fullWidth:!0,placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi..."})}),(0,A.jsx)(V.ZP,{item:!0,xs:3,children:(0,A.jsxs)(ee.Z,{sx:{flexShrink:0,width:"100%"},children:[(0,A.jsx)(Q.Z,{children:"\u0110\u1ed9 kh\xf3..."}),(0,A.jsx)(K.Z,{value:a.totals[n].level,onChange:function(e){return function(e){var n=e.value,t=e.index,i=(0,U.Z)(a.totals);i[t].level=Number(n),s("totals",i)}({value:e.target.value,index:n})},sx:{width:"100%"},label:"\u0110\u1ed9 kh\xf3...",children:null===Y.i||void 0===Y.i?void 0:Y.i.map((function(e){return(0,A.jsx)(F.Z,{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.value)}))})]})}),(0,A.jsx)(V.ZP,{item:!0,xs:1,children:(0,A.jsx)(P.Z,{color:"error",onClick:function(){return function(e){if(1===a.totals.length)d("C\u1ea7n \xedt nh\u1ea5t m\u1ed9t l\u1ef1a ch\u1ecdn s\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi !",{variant:"error"});else{var n=(0,U.Z)(a.totals);n.splice(e,1),s("totals",n)}}(n)},children:(0,A.jsx)(I.Z,{icon:"mingcute:delete-back-fill"})})})]})})),(0,A.jsx)(w.Z,{variant:"contained",color:"info",onClick:function(){if(a.totals.length>=6)d("T\u1ed1i \u0111a 6 l\u1ef1a ch\u1ecdn v\u1ec1 \u0111\u1ed9 kh\xf3 !",{variant:"error"});else{var e=[].concat((0,U.Z)(a.totals),[{value:"",level:""}]);s("totals",e)}},children:"Th\xeam s\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi v\xe0 \u0111\u1ed9 kh\xf3 m\u1edbi"})]}),p=(0,A.jsx)(J.Z,{multiple:!0,fullWidth:!0,limitTags:1,options:null===o||void 0===o?void 0:o.map((function(e){var n;return"".concat(null===e||void 0===e?void 0:e.name," ").concat(null===e||void 0===e||null===(n=e.grade)||void 0===n?void 0:n.name)})),getOptionLabel:function(e){return e},value:a.subjects,onChange:function(e,n){return s("subjects",n)},renderInput:function(e){return(0,A.jsx)(ne.Z,(0,x.Z)({placeholder:"Ch\u1ecdn m\xf4n h\u1ecdc..."},e))},renderOption:function(e,n){return(0,r.createElement)("li",(0,x.Z)((0,x.Z)({},e),{},{key:n}),n)},renderTags:function(e,n){return e.map((function(e,t){return(0,r.createElement)($.Z,(0,x.Z)((0,x.Z)({},n({index:t})),{},{key:e,label:e,size:"small",variant:"soft"}))}))}}),v=(0,A.jsx)(J.Z,{disabled:!(null!==(t=a.subjects)&&void 0!==t&&t.length),multiple:!0,fullWidth:!0,limitTags:1,options:null===u||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.name})),getOptionLabel:function(e){return e},value:a.topics,onChange:function(e,n){return s("topics",n)},renderInput:function(e){return(0,A.jsx)(ne.Z,(0,x.Z)({placeholder:"Ch\u1ecdn ch\u1ee7 \u0111\u1ec1..."},e))},renderOption:function(e,n){return(0,r.createElement)("li",(0,x.Z)((0,x.Z)({},e),{},{key:n}),n)},renderTags:function(e,n){return e.map((function(e,t){return(0,r.createElement)($.Z,(0,x.Z)((0,x.Z)({},n({index:t})),{},{key:e,label:e,size:"small",variant:"soft"}))}))}}),f=(0,A.jsx)(J.Z,{multiple:!0,fullWidth:!0,limitTags:2,options:["C\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m","C\xe2u h\u1ecfi t\u1ef1 lu\u1eadn"],getOptionLabel:function(e){return e},value:a.types,onChange:function(e,n){return s("types",n)},renderInput:function(e){return(0,A.jsx)(ne.Z,(0,x.Z)({placeholder:"Ch\u1ecdn lo\u1ea1i c\xe2u h\u1ecfi..."},e))},renderOption:function(e,n){return(0,r.createElement)("li",(0,x.Z)((0,x.Z)({},e),{},{key:n}),n)},renderTags:function(e,n){return e.map((function(e,t){return(0,r.createElement)($.Z,(0,x.Z)((0,x.Z)({},n({index:t})),{},{key:e,label:e,size:"small",variant:"soft"}))}))}}),m=(0,A.jsx)(ne.Z,{fullWidth:!0,type:"number",placeholder:"Nh\u1eadp s\u1ed1 \u0111i\u1ec3m c\xe2u h\u1ecfi...",value:a.point,onChange:function(e){return s("point",Number(e.target.value))}}),b=(0,A.jsx)(q.Z,{label:"L\u1ef1a ch\u1ecdn c\xe1c c\xe2u h\u1ecfi m\u1ed9t c\xe1ch ng\u1eabu nhi\xean",sx:{ml:1},control:(0,A.jsx)(C.Z,{value:a.random,onChange:function(e){return s("random",Number(e.target.checked))}})});return(0,A.jsxs)(k.Z,{fullWidth:!0,maxWidth:!1,open:i,onClose:l,PaperProps:{sx:{maxWidth:980}},children:[(0,A.jsxs)(z.Z,{spacing:2,p:3,children:[(0,A.jsxs)(z.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,A.jsx)(B.Z,{variant:"h6",children:"Ch\u1ecdn c\u01a1 c\u1ea5u c\xe2u h\u1ecfi \u0111\u1ec1 thi"}),(0,A.jsx)(H.jY,{children:b})]}),(0,A.jsx)(X.Z,{}),(0,A.jsxs)(V.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(V.ZP,{item:!0,xs:6,children:(0,A.jsx)(z.Z,{spacing:2,children:(0,A.jsx)(H.jY,{label:"S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi trong b\xe0i thi :",children:h})})}),(0,A.jsx)(V.ZP,{item:!0,xs:6,children:(0,A.jsxs)(z.Z,{spacing:2,children:[(0,A.jsx)(H.jY,{label:"C\xe2u h\u1ecfi thu\u1ed9c m\xf4n h\u1ecdc :",children:p}),(0,A.jsx)(H.jY,{label:"C\xe2u h\u1ecfi thu\u1ed9c ch\u1ee7 \u0111\u1ec1 :",children:v}),(0,A.jsx)(H.jY,{label:"C\xe2u h\u1ecfi c\xf3 s\u1ed1 \u0111i\u1ec3m :",children:m}),(0,A.jsx)(H.jY,{label:"C\xe2u h\u1ecfi thu\u1ed9c lo\u1ea1i :",children:f})]})})]})]}),(0,A.jsx)(G.Z,{children:(0,A.jsx)(w.Z,{variant:"contained",color:"primary",onClick:function(){c(),l()},children:"Thi\u1ebft l\u1eadp c\u01a1 c\u1ea5u"})})]})}var ie=t(86379),re=[{label:"\u0110\u1ec1 thi tr\u1eafc nghi\u1ec7m",value:"choice"},{label:"\u0110\u1ec1 thi t\u1ef1 lu\u1eadn",value:"essay"},{label:"\u0110\u1ec1 thi h\u1ed7n h\u1ee3p",value:"mixed"}];function le(e){var n,t=e.open,i=e.onClose,l=e.subjects,a=e.topics,s=e.questions,c=(0,p.S)(),d=c._table_row_selected,u=c.onSetTableRowSelected,h=c.onCreateNewRow,R=c.onUpdateRow,W=!!d,O=(0,E.k)(),M=(0,D.Ds)().enqueueSnackbar,Y=y.Ry().shape({name:y.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp n\u1ed9i dung b\xe0i thi !"),code:y.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp n\u1ed9i dung b\xe0i thi !"),topic:y.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn ch\u1ee7 \u0111\u1ec1 !"),subject:y.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn m\xf4n h\u1ecdc !"),type:y.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn lo\u1ea1i b\xe0i thi !"),duration:y.Rx().required("B\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ed9 kh\xf3 b\xe0i thi !"),questions:y.IX().min(1,"C\u1ea7n \xedt nh\u1ea5t m\u1ed9t c\xe2u h\u1ecfi trong m\u1ed7i b\xe0i thi !")}),U=(0,r.useMemo)((function(){var e,n,t,i;return{name:(null===d||void 0===d?void 0:d.name)||"",code:(null===d||void 0===d?void 0:d.code)||"",topic:(null===d||void 0===d||null===(e=d.topic)||void 0===e?void 0:e.id)||"",subject:(null===d||void 0===d||null===(n=d.topic)||void 0===n||null===(t=n.subject)||void 0===t?void 0:t.id)||"",type:(null===d||void 0===d?void 0:d.type)||re[0].value,duration:(null===d||void 0===d?void 0:d.duration)||0,questions:(null===d||void 0===d||null===(i=d.questions)||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.id})))||[]}}),[d]),Q=(0,j.cI)({resolver:(0,g.X)(Y),defaultValues:U}),K=Q.reset,X=Q.watch,G=Q.setValue,J=Q.handleSubmit,$=Q.formState.isSubmitting,ee=X();(0,r.useEffect)((function(){K(U)}),[K,d,U]);var ne=J(function(){var e=(0,b.Z)((0,m.Z)().mark((function e(n){var t,i,r,l;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:n.name,code:n.code,topic:{connect:{id:+n.topic}},type:n.type,duration:n.duration,questions:{connect:n.questions.map((function(e){return{id:e}}))}},i={name:n.name,code:n.code,topic:{connect:{id:+n.topic}},type:n.name,duration:n.duration,questions:{connect:n.questions.map((function(e){return{id:e}}))}},e.prev=2,W){e.next=11;break}return e.next=6,(0,o.un)(t);case 6:r=e.sent,h(r),M("\u0110\xe3 th\xeam d\u1eef li\u1ec7u \u0111\u1ec1 thi m\u1edbi !"),e.next=16;break;case 11:return e.next=13,(0,o.w0)(i,d.id);case 13:l=e.sent,R(l),M("\u0110\xe3 c\u1eadp nh\u1eadt b\xe0i thi !");case 16:K(),le(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),M("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(n){return e.apply(this,arguments)}}()),le=function(){u(null),i()},ae=(0,r.useState)({subjects:[],topics:[],totals:[{value:"",level:""}],point:"",types:[],random:!1}),se=(0,f.Z)(ae,2),ce=se[0],de=se[1],ue=(0,r.useCallback)((function(e,n){de((function(t){return(0,x.Z)((0,x.Z)({},t),{},(0,v.Z)({},e,n))}))}),[]),he=oe({inputData:s,filters:ce}),pe=null===l||void 0===l?void 0:l.filter((function(e){return(null===e||void 0===e?void 0:e.id)===(null===ee||void 0===ee?void 0:ee.subject)}))[0],ve={name_test:null===ee||void 0===ee?void 0:ee.name,test_duration:null===ee||void 0===ee?void 0:ee.duration,test_code:null===ee||void 0===ee?void 0:ee.code,test_subject:"".concat(null===pe||void 0===pe?void 0:pe.name)||null,test_question:null===s||void 0===s?void 0:s.filter((function(e){var n;return null===ee||void 0===ee||null===(n=ee.questions)||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e.id)}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(k.Z,{fullScreen:!0,open:t,onClose:le,children:(0,A.jsxs)(H.ZP,{methods:Q,onSubmit:ne,children:[(0,A.jsx)(S.Z,{children:(0,A.jsxs)(z.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,A.jsxs)(z.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,A.jsx)(P.Z,{onClick:le,children:(0,A.jsx)(I.Z,{icon:"mingcute:close-fill"})}),W?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u b\xe0i thi":"Th\xeam d\u1eef li\u1ec7u b\xe0i thi m\u1edbi"]}),(0,A.jsx)(_.Z,{type:"submit",color:"primary",variant:"contained",loading:$,children:W?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u b\xe0i thi":"Th\xeam d\u1eef li\u1ec7u b\xe0i thi m\u1edbi"})]})}),(0,A.jsx)(T.Z,{children:(0,A.jsxs)(V.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(V.ZP,{item:!0,xs:12,md:6,children:(0,A.jsxs)(z.Z,{spacing:2,children:[(0,A.jsx)(H.jY,{label:"T\xean b\xe0i thi :",required:!0,children:(0,A.jsx)(H.au,{name:"name",label:"Nh\u1eadp t\xean b\xe0i thi..."})}),(0,A.jsx)(H.jY,{label:"M\xe3 \u0111\u1ec1 b\xe0i thi :",required:!0,sx:{width:"100%"},children:(0,A.jsx)(H.au,{name:"code",label:"Nh\u1eadp m\xe3 \u0111\u1ec1 b\xe0i thi..."})}),(0,A.jsx)(H.jY,{label:"Th\u1eddi gian l\xe0m b\xe0i ( ph\xfat ) :",required:!0,sx:{width:"100%"},children:(0,A.jsx)(H.au,{name:"duration",label:"Nh\u1eadp th\u1eddi gian l\xe0m b\xe0i..."})})]})}),(0,A.jsx)(V.ZP,{item:!0,xs:12,md:6,children:(0,A.jsxs)(z.Z,{spacing:2,children:[(0,A.jsx)(H.jY,{label:"Ch\u1ecdn lo\u1ea1i b\xe0i thi :",required:!0,children:(0,A.jsx)(H.Cc,{name:"type",label:"Ch\u1ecdn lo\u1ea1i b\xe0i thi...",children:re.map((function(e){return(0,A.jsx)(F.Z,{value:e.value,children:e.label},e.value)}))})}),(0,A.jsx)(H.jY,{label:"B\xe0i thi thu\u1ed9c m\xf4n h\u1ecdc :",required:!0,children:(0,A.jsx)(H.Cc,{name:"subject",label:"Ch\u1ecdn m\xf4n h\u1ecdc...",children:null===l||void 0===l?void 0:l.map((function(e){var n,t;return(0,A.jsx)(F.Z,{value:e.id,children:"".concat(null===e||void 0===e?void 0:e.name," ").concat(null===e||void 0===e||null===(n=e.grades)||void 0===n||null===(t=n.map((function(e){return"".concat(null===e||void 0===e?void 0:e.label)})))||void 0===t?void 0:t.join(""))},e.id)}))})}),(0,A.jsx)(H.jY,{label:"B\xe0i thi thu\u1ed9c ch\u1ee7 \u0111\u1ec1 :",required:!0,children:(0,A.jsx)(H.Cc,{name:"topic",label:"Ch\u1ecdn ch\u1ee7 \u0111\u1ec1...",disabled:!ee.subject,children:null===a||void 0===a||null===(n=a.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.subject)||void 0===n?void 0:n.id)===ee.subject})))||void 0===n?void 0:n.map((function(e){return(0,A.jsx)(F.Z,{value:e.id,children:null===e||void 0===e?void 0:e.name},e.id)}))})})]})}),(0,A.jsx)(V.ZP,{item:!0,xs:12,md:6,children:(0,A.jsxs)(N.Z,{sx:{maxHeight:"80vh",width:"100%"},children:[(0,A.jsx)(w.Z,{variant:"contained",color:"info",size:"small",startIcon:(0,A.jsx)(I.Z,{icon:"fa:random"}),sx:{mb:2},onClick:O.onTrue,children:"Ch\u1ecdn c\u01a1 c\u1ea5u c\xe2u h\u1ecfi \u0111\u1ec1 thi"}),(0,A.jsxs)(H.jY,{sx:{px:1},children:[(0,A.jsx)(q.Z,{sx:{mb:-1},label:(0,A.jsx)(B.Z,{variant:"subtitle2",children:"L\u1ef1a ch\u1ecdn t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi"}),control:(0,A.jsx)(C.Z,{onChange:function(e){var n=e.target.checked;G("questions",n?null===s||void 0===s?void 0:s.map((function(e){return null===e||void 0===e?void 0:e.id})):[])}})}),(0,A.jsx)(H.s2,{name:"questions",options:null===s||void 0===s?void 0:s.map((function(e){return{value:null===e||void 0===e?void 0:e.id,label:(0,A.jsx)(L,{question:e})}}))})]})]})}),(0,A.jsx)(V.ZP,{item:!0,xs:12,md:6,children:(0,A.jsx)(Z.PDFViewer,{width:"100%",height:"50vh",style:{border:"none",minHeight:960,borderRadius:10},children:(0,A.jsx)(ie.Z,{testValues:ve})})})]})})]})}),(0,A.jsx)(te,{handleSetQuestion:function(){G("questions",null===he||void 0===he?void 0:he.map((function(e){return null===e||void 0===e?void 0:e.id})))},subjects:l,filters:ce,handleFilters:ue,open:O.value,onClose:O.onFalse})]})}var oe=function(e){var n=e.inputData,t=e.filters,i={choice:"C\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m",essay:"C\xe2u h\u1ecfi t\u1ef1 lu\u1eadn"};if(t.subjects.length&&(n=n.filter((function(e){var n;return t.subjects.includes("".concat(null===e||void 0===e||null===(n=e.subject)||void 0===n?void 0:n.name))}))),t.topics.length&&(n=n.filter((function(e){var n;return null===t||void 0===t?void 0:t.topics.includes(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.name)}))),t.types.length&&(n=n.filter((function(e){return null===t||void 0===t?void 0:t.types.includes(i[null===e||void 0===e?void 0:e.type])}))),t.totals[0].value>0){var r=[];t.totals.forEach((function(e,t){var i=n.filter((function(n){return(null===n||void 0===n?void 0:n.level)===e.level})).slice(0,e.value);r.push(i)})),n=null===r||void 0===r?void 0:r.flatMap((function(e){return e}))}return t.point&&(n=n.filter((function(e){return(null===e||void 0===e?void 0:e.point)===(null===t||void 0===t?void 0:t.point)}))),t.random&&(n=W()(n)),n},ae=t(90651),se=t(63065),ce=t(27938),de=t(68745),ue={choice:"\u0110\u1ec1 thi tr\u1eafc nghi\u1ec7m",essay:"\u0110\u1ec1 thi t\u1ef1 lu\u1eadn",mixed:"\u0110\u1ec1 thi h\u1ed7n h\u1ee3p"},he=[{id:"title",label:"T\xean b\xe0i thi",flex:1},{id:"code",label:"M\xe3 \u0111\u1ec1 thi",flex:1,align:"center"},{id:"duration",label:"Th\u1eddi gian l\xe0m b\xe0i",flex:1,align:"center"},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"answer",label:"Danh s\xe1ch c\xe2u h\u1ecfi",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],pe=function(e){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(de.Z,{sx:{width:350},children:(0,A.jsx)(se.Z,{variant:"body2",children:(0,A.jsx)(ae.O,{primary:null===e||void 0===e?void 0:e.name,secondary:ue[null===e||void 0===e?void 0:e.type]})})}),(0,A.jsx)(de.Z,{align:"center",children:null===e||void 0===e?void 0:e.code}),(0,A.jsxs)(de.Z,{align:"center",children:[null===e||void 0===e?void 0:e.duration," ph\xfat"]})]})},ve=function(e){var n;return(0,A.jsx)(z.Z,{component:ce.Z,sx:{m:1.5},children:null===e||void 0===e||null===(n=e.questions)||void 0===n?void 0:n.map((function(e,n){return(0,A.jsx)(z.Z,{direction:"row",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(e){return"solid 2px ".concat(e.palette.background.neutral)}}},children:(0,A.jsx)(ae.O,{primary:(0,A.jsx)(M.Z,{children:null===e||void 0===e?void 0:e.content}),secondary:"choice"===(null===e||void 0===e?void 0:e.type)?"C\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":"C\xe2u h\u1ecfi t\u1ef1 lu\u1eadn"})},n)}))})},xe={choice:"\u0110\u1ec1 thi tr\u1eafc nghi\u1ec7m",essay:"\u0110\u1ec1 thi t\u1ef1 lu\u1eadn",mixed:"\u0110\u1ec1 thi h\u1ed7n h\u1ee3p"};function fe(){var e=(0,p.S)(),n=e._table_data,t=e._table_open_form,i=e.onSetOpenForm,v=e.onSetTableData,x=e.onSetTableHeader,f=e.onSetTableRows,m=e.onSetTableRowCollapse,b=e.onSetImportTableData,g=e.onSetExportTableData,j=e.onSetConfigTable,y=(0,o.ZP)().data,Z=(0,a.ZP)().data,_=(0,s.ZP)().data,w=(0,c.ZP)().data;return(0,r.useEffect)((function(){v(y),b({sample_data:[],option_field:null,option_values:[]}),j({table_name:"exam",add_new:!0,filter_by_date:!0,filter_by_type:!1,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),x(he),f(pe),m(ve)}),[y]),(0,r.useEffect)((function(){g(null===n||void 0===n?void 0:n.map((function(e){var n;return{"T\xean b\xe0i thi":null===e||void 0===e?void 0:e.name,"M\xe3 \u0111\u1ec1 thi":null===e||void 0===e?void 0:e.code,"Th\u1eddi gian l\xe0m b\xe0i":"".concat(null===e||void 0===e?void 0:e.duration," ph\xfat"),"Lo\u1ea1i b\xe0i thi":xe[null===e||void 0===e?void 0:e.type],"S\u1ed1 c\xe2u h\u1ecfi":"".concat(null===e||void 0===e||null===(n=e.questions)||void 0===n?void 0:n.length," c\xe2u h\u1ecfi"),"Ng\xe0y t\u1ea1o":(0,u.zM)(null===e||void 0===e?void 0:e.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,u.zM)(null===e||void 0===e?void 0:e.updatedAt)}})))}),[n]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.Z,{heading:"Qu\u1ea3n l\xfd b\xe0i thi",links:[{name:"Danh m\u1ee5c"},{name:"B\xe0i thi",href:d.H.home.test.all_test},{name:"Qu\u1ea3n l\xfd"}],sx:{mb:{xs:3,md:5}}}),(0,A.jsx)(h.Z,{}),(0,A.jsx)(le,{open:t,onClose:function(){return i(!1)},subjects:Z,topics:_,questions:w})]})}function me(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(i.ql,{children:(0,A.jsx)("title",{children:" Qu\u1ea3n l\xfd b\xe0i thi "})}),(0,A.jsx)(fe,{})]})}},22734:function(e,n,t){"use strict";t.d(n,{i:function(){return r},w:function(){return i}});var i={0:"A.",1:"B.",2:"C.",3:"D.",4:"E.",5:"F."},r=[{value:0,label:"R\u1ea5t d\u1ec5"},{value:1,label:"D\u1ec5"},{value:2,label:"Trung b\xecnh"},{value:3,label:"Kh\xf3"},{value:4,label:"R\u1ea5t kh\xf3"},{value:5,label:"C\u1ef1c kh\xf3"}]},86379:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(41829),r=t(72791),l=t(70871),o=t(22734),a=t(80184);i.Font.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var s=function(){return(0,r.useMemo)((function(){return i.StyleSheet.create({html:{padding:0,margin:0},col4:{width:"25%"},col6:{width:"50%"},col8:{width:"75%"},col12:{width:"100%"},mt4:{marginTop:4},mt8:{marginTop:8},mt12:{marginTop:12},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},h5:{fontSize:11,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},textUppercase:{textTransform:"uppercase"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",padding:"24px 36px 36px 36px"},borderBox:{padding:2,border:"1px solid black",lineHeight:0,display:"flex",justifyContent:"center",alignItems:"center"},pointBox:{border:"1px solid black",padding:"4px 4px 80px 4px",textDecoration:"underline"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"}})}),[])};function c(e){var n,t,r=e.testValues,c=s(),d=null===r||void 0===r||null===(n=r.test_question)||void 0===n?void 0:n.filter((function(e){return"choice"===(null===e||void 0===e?void 0:e.type)})),u=null===r||void 0===r||null===(t=r.test_question)||void 0===t?void 0:t.filter((function(e){return"essay"===(null===e||void 0===e?void 0:e.type)}));return(0,a.jsx)(i.Document,{children:(0,a.jsxs)(i.Page,{size:"A4",style:c.page,children:[(0,a.jsxs)(i.View,{style:[c.gridContainer],children:[(0,a.jsxs)(i.View,{children:[(0,a.jsx)(i.Text,{style:[c.h5,c.textUppercase],children:(null===r||void 0===r?void 0:r.exam_address)||"Tr\u01b0\u1eddng THPT L\xea Qu\xfd \u0110\xf4n"}),(0,a.jsx)(i.Text,{style:[c.textUppercase],children:(null===r||void 0===r?void 0:r.test_type)||"\u0110\u1ec1 thi ch\xednh th\u1ee9c"}),(0,a.jsx)(i.Text,{style:c.mb8,children:"__________________________________"}),(0,a.jsx)(i.View,{style:c.borderBox,children:(0,a.jsxs)(i.Text,{style:[c.h5,c.textUppercase],children:["M\xe3 \u0111\u1ec1 thi ",(null===r||void 0===r?void 0:r.test_code)||"168"]})})]}),(0,a.jsxs)(i.View,{style:[c.col6,c.alignCenter],children:[(0,a.jsx)(i.Text,{style:[c.h5,c.textUppercase],children:(null===r||void 0===r?void 0:r.name_exam)||"K\u1ef3 thi tuy\u1ec3n sinh v\xe0o l\u1edbp 10 THPT"}),(0,a.jsx)(i.Text,{style:[c.body1,c.textUppercase],children:(null===r||void 0===r?void 0:r.test_school_year)||"N\u0103m h\u1ecdc 2022-2023"}),(0,a.jsxs)(i.Text,{style:[c.subtitle1,c.textUppercase],children:["M\xf4n thi : ",(null===r||void 0===r?void 0:r.test_subject)||"\u0110\u1ecba l\xfd"]}),(0,a.jsxs)(i.Text,{style:[c.body2],children:["Th\u1eddi gian l\xe0m b\xe0i : ",(null===r||void 0===r?void 0:r.test_duration)||"60"," ph\xfat"]}),(0,a.jsx)(i.Text,{children:"_________________________________"})]})]}),(0,a.jsx)(i.View,{style:[c.gridContainer],children:(0,a.jsx)(i.View,{style:[c.col12,c.alignCenter,c.mt12],children:(0,a.jsx)(i.Text,{style:[c.h4,c.textUppercase],children:(null===r||void 0===r?void 0:r.name_test)||"B\xe0i thi tuy\u1ec3n thi \u0111\u1ea7u v\xe0o kh\u1ed1i l\u1edbp 10 THPT"})})}),(0,a.jsxs)(i.View,{style:[c.gridContainer],children:[(0,a.jsx)(i.View,{style:[c.col6,c.mt8],children:(0,a.jsx)(i.Text,{style:[c.subtitle2],children:"H\u1ecd v\xe0 t\xean th\xed sinh : ............................................................."})}),(0,a.jsx)(i.View,{style:[c.col6,c.mt8],children:(0,a.jsx)(i.Text,{style:[c.subtitle2],children:"L\u1edbp / S\u1ed1 b\xe1o danh : .................................................................."})})]}),(0,a.jsxs)(i.View,{style:[c.gridContainer],children:[(0,a.jsx)(i.View,{style:[c.col6,c.mt8],children:(0,a.jsx)(i.Text,{style:[c.subtitle2],children:"Ng\xe0y thi : ..........................................................................."})}),(0,a.jsx)(i.View,{style:[c.col6,c.mt8],children:(0,a.jsx)(i.Text,{style:[c.subtitle2],children:"Ch\u1eef k\xfd th\xed sinh : ......................................................................."})})]}),(0,a.jsxs)(i.View,{style:[c.gridContainer],children:[(0,a.jsx)(i.View,{style:[c.col4,c.mt12,c.pointBox],children:(0,a.jsx)(i.Text,{style:[c.subtitle2],children:"\u0110i\u1ec3m b\u1eb1ng s\u1ed1 :"})}),(0,a.jsx)(i.View,{style:[c.col8,c.mt12,c.pointBox],children:(0,a.jsx)(i.Text,{style:[c.subtitle2],children:"\u0110i\u1ec3m b\u1eb1ng ch\u1eef :"})})]}),(null===d||void 0===d?void 0:d.length)>0&&(0,a.jsx)(i.View,{style:[c.gridContainer],children:(0,a.jsx)(i.View,{style:[c.col12,c.mt12],children:(0,a.jsx)(i.Text,{style:[c.subtitle2,c.textUppercase],children:"I. Tr\u1eafc nghi\u1ec7m :"})})}),null===d||void 0===d?void 0:d.map((function(e,n){var t;return(0,a.jsx)(i.View,{style:[c.gridContainer],children:(0,a.jsxs)(i.View,{style:[c.col12,c.mt4],children:[(0,a.jsxs)(i.View,{children:[(0,a.jsx)(i.Text,{style:[c.body2],children:"C\xe2u h\u1ecfi ".concat(n+1," ( ").concat(null===e||void 0===e?void 0:e.point,"\u0111 ) : ")}),(0,a.jsx)(l.Html,{resetStyles:!0,style:[c.body2],children:null===e||void 0===e?void 0:e.content})]}),null===(t=Array.from({length:4}))||void 0===t?void 0:t.map((function(n,t){return(0,a.jsxs)(i.View,{style:{display:"flex",flexDirection:"row"},children:[(0,a.jsx)(i.Text,{style:[c.body2,c.mb4],children:"".concat(o.w[t],"  ")}),(0,a.jsx)(l.Html,{resetStyles:!0,style:[c.body2],children:null===e||void 0===e?void 0:e["answer0".concat(t+1)]})]},t)}))]})},null===e||void 0===e?void 0:e._id)})),(null===u||void 0===u?void 0:u.length)>0&&(0,a.jsx)(i.View,{style:[c.gridContainer],children:(0,a.jsx)(i.View,{style:[c.col12,c.mt12],children:(0,a.jsx)(i.Text,{style:[c.subtitle2,c.textUppercase],children:"II. T\u1ef1 lu\u1eadn :"})})}),null===u||void 0===u?void 0:u.map((function(e,n){var t;return(0,a.jsx)(i.View,{style:[c.gridContainer],children:(0,a.jsxs)(i.View,{style:[c.col12,c.mt4],children:[(0,a.jsx)(i.Text,{style:[c.body2],children:"C\xe2u h\u1ecfi ".concat(n+1," ( ").concat(null===e||void 0===e?void 0:e.point,"\u0111 ) : ")}),(0,a.jsx)(l.Html,{style:[c.body2,c.html],children:null===e||void 0===e?void 0:e.content}),null===(t=Array.from({length:null===e||void 0===e?void 0:e.lines}))||void 0===t?void 0:t.map((function(e,t){return(0,a.jsx)(i.Text,{style:[c.body1,c.mt4],children:"...................................................................................................................................................................................................."},n)}))]})},null===e||void 0===e?void 0:e._id)}))]})})}},42480:function(){}}]);
//# sourceMappingURL=136.56000a21.chunk.js.map