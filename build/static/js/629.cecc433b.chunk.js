"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[629],{55164:function(n,e,t){t.d(e,{LX:function(){return s},ZP:function(){return c},q$:function(){return d}});var r=t(74165),i=t(15861),a=t(29439),o=t(72791),l=t(12803);function c(){var n=(0,o.useState)({}),e=(0,a.Z)(n,2),t=e[0],c=e[1];return(0,o.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.grade.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function d(n){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.grade.create(e);case 2:return t=n.sent,i=t.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n,e){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.grade.update(t,e);case 2:return i=n.sent,a=i.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,t){t.d(e,{O:function(){return d}});var r=t(1413),i=t(53767),a=t(49900),o=t(54852),l=t(63065),c=t(80184);function d(n){var e=n.primary,t=n.secondary,d=n.alt,u=n.src,s=n.sx;return(0,c.jsxs)(i.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,r.Z)({},s),children:[u&&(0,c.jsx)(o.Z,{alt:d,src:u,variant:"rounded"}),(0,c.jsx)(a.Z,{primary:(0,c.jsx)(l.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,c.jsx)(l.Z,{variant:"caption",color:"text.disabled",line:1,children:t||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,t){t.d(e,{Z:function(){return p}});var r=t(1413),i=t(45987),a=t(72791),o=t(50533),l=t(4567),c=t(13967),d=t(68051);function u(n){var e,t=(0,c.Z)(),r=(0,d.z)(),i=t.breakpoints.up("xl"===r?"lg":r),a=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&t.typography[n][i]?t.typography[n][i]:t.typography[n],o=(e=a.fontSize,Math.round(16*parseFloat(e))),l=Number(t.typography[n].lineHeight)*o,u=t.typography[n];return{fontSize:o,lineHeight:l,fontWeight:u.fontWeight,letterSpacing:u.letterSpacing}}var s=t(80184),h=["asLink","variant","line","persistent","children","sx"],p=(0,a.forwardRef)((function(n,e){var t=n.asLink,a=n.variant,c=void 0===a?"body1":a,d=n.line,p=void 0===d?2:d,v=n.persistent,f=void 0!==v&&v,m=n.children,x=n.sx,Z=(0,i.Z)(n,h),b=u(c).lineHeight,g=(0,r.Z)((0,r.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:p,WebkitBoxOrient:"vertical"},f&&{height:b*p}),x);return t?(0,s.jsx)(o.Z,(0,r.Z)((0,r.Z)({color:"inherit",ref:e,variant:c,sx:(0,r.Z)({},g)},Z),{},{children:m})):(0,s.jsx)(l.Z,(0,r.Z)((0,r.Z)({ref:e,variant:c,sx:(0,r.Z)({},g)},Z),{},{children:m}))}))},20938:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(6907),i=t(72791),a=t(54406),o=t(55164),l=t(95305),c=t(7055),d=t(34055),u=t(65478),s=t(244),h=t(74165),p=t(1413),v=t(15861),f=t(44695),m=t(61134),x=t(8007),Z=t(46002),b=t(30439),g=t(5574),j=t(97123),y=t(39157),_=t(65661),w=t(61889),k=t(53767),S=t(72369),T=t(11857),C=t(80184);function M(n){var e=n.open,t=n.onClose,r=n.grades,a=(0,s.S)(),o=a._table_row_selected,c=a.onSetTableRowSelected,d=a.onCreateNewRow,u=a.onUpdateRow,M=!!o,P=(0,T.Ds)().enqueueSnackbar,H=x.Ry().shape({name:x.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean m\xf4n h\u1ecdc !"),grades:x.IX().min(1,"B\u1ea1n c\u1ea7n \xedt nh\u1ea5t m\u1ed9t kh\u1ed1i l\u1edbp cho m\xf4n h\u1ecdc !"),description:x.nK()}),K=(0,i.useMemo)((function(){var n;return{name:(null===o||void 0===o?void 0:o.name)||"",grades:(null===o||void 0===o||null===(n=o.grades)||void 0===n?void 0:n.map((function(n){return null===n||void 0===n?void 0:n.id})))||[],description:(null===o||void 0===o?void 0:o.description)||""}}),[o]),R=(0,m.cI)({resolver:(0,f.X)(H),defaultValues:K}),W=R.reset,q=R.handleSubmit,N=R.formState.isSubmitting;(0,i.useEffect)((function(){W(K)}),[W,o,K]);var O=q(function(){var n=(0,v.Z)((0,h.Z)().mark((function n(e){var t,r,i,a;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=(0,p.Z)((0,p.Z)({},e),{},{grades:{connect:e.grades.map((function(n){return{id:+n}}))}}),r=(0,p.Z)((0,p.Z)({},e),{},{grades:{set:e.grades.map((function(n){return{id:+n}}))}}),n.prev=2,M){n.next=11;break}return n.next=6,(0,l.I5)(t);case 6:i=n.sent,d(i),P("\u0110\xe3 th\xeam d\u1eef li\u1ec7u m\xf4n h\u1ecdc m\u1edbi !"),n.next=16;break;case 11:return n.next=13,(0,l.jZ)(r,o.id);case 13:a=n.sent,u(a),P("\u0110\xe3 c\u1eadp nh\u1eadt m\xf4n h\u1ecdc ".concat(e.name," !"));case 16:W(),z(),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),P("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 23:case"end":return n.stop()}}),n,null,[[2,20]])})));return function(e){return n.apply(this,arguments)}}()),z=function(){c(null),t()};return(0,C.jsx)(g.Z,{fullWidth:!0,maxWidth:!1,open:e,onClose:z,PaperProps:{sx:{maxWidth:720}},children:(0,C.jsxs)(S.ZP,{methods:R,onSubmit:O,children:[(0,C.jsx)(_.Z,{children:M?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u m\xf4n h\u1ecdc ".concat(null===o||void 0===o?void 0:o.name):"Th\xeam d\u1eef li\u1ec7u m\xf4n h\u1ecdc m\u1edbi"}),(0,C.jsx)(y.Z,{children:(0,C.jsx)(w.ZP,{container:!0,spacing:2,children:(0,C.jsx)(w.ZP,{item:!0,xs:12,children:(0,C.jsxs)(k.Z,{spacing:2,children:[(0,C.jsx)(S.jY,{label:"T\xean m\xf4n h\u1ecdc :",required:!0,children:(0,C.jsx)(S.au,{name:"name",label:"T\xean m\xf4n h\u1ecdc..."})}),(0,C.jsx)(S.jY,{label:"Thu\u1ed9c kh\u1ed1i l\u1edbp :",required:!0,children:(0,C.jsx)(S.vA,{chip:!0,checkbox:!0,label:"Ch\u1ecdn kh\u1ed1i l\u1edbp...",name:"grades",options:null===r||void 0===r?void 0:r.map((function(n){return{value:null===n||void 0===n?void 0:n.id,label:"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)}})),sx:{width:"100%"}})}),(0,C.jsx)(S.jY,{label:"M\xf4 t\u1ea3 m\xf4n h\u1ecdc :",children:(0,C.jsx)(S.au,{name:"description",multiline:!0,rows:4,label:"M\xf4 t\u1ea3 m\xf4n h\u1ecdc..."})})]})})})}),(0,C.jsxs)(j.Z,{children:[(0,C.jsx)(b.Z,{variant:"outlined",onClick:z,children:"Hu\u1ef7 b\u1ecf"}),(0,C.jsx)(Z.Z,{type:"submit",color:"primary",variant:"contained",loading:N,children:M?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var P=t(27938),H=t(68745),K=t(90651),R=[{id:"name",label:"T\xean m\xf4n h\u1ecdc",flex:1},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"topics",label:"Danh s\xe1ch ch\u1ee7 \u0111\u1ec1",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],W=function(n){var e,t;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(H.Z,{children:(0,C.jsx)(K.O,{primary:"".concat(null===n||void 0===n?void 0:n.name," l\u1edbp ").concat(null===n||void 0===n||null===(e=n.grades)||void 0===e||null===(t=e.map((function(n){return null===n||void 0===n?void 0:n.label})))||void 0===t?void 0:t.join("")),secondary:null===n||void 0===n?void 0:n.description})})})},q=function(n){var e;return(0,C.jsx)(k.Z,{component:P.Z,sx:{m:1.5},children:null===n||void 0===n||null===(e=n.topics)||void 0===e?void 0:e.map((function(n){return(0,C.jsx)(k.Z,{direction:"row",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(n){return"solid 2px ".concat(n.palette.background.neutral)}}},children:(0,C.jsx)(K.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.description})},null===n||void 0===n?void 0:n.id)}))})};function N(){var n=(0,s.S)(),e=n._table_data,t=n._table_open_form,r=n.onSetOpenForm,h=n.onSetTableData,p=n.onSetTableHeader,v=n.onSetTableRows,f=n.onSetTableRowCollapse,m=n.onSetExportTableData,x=n.onSetConfigTable,Z=(0,l.ZP)().data,b=(0,o.ZP)().data;return(0,i.useEffect)((function(){h(Z),x({table_name:"subject",add_new:!0,filter_by_date:!0,filter_by_type:!1,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),p(R),v(W),f(q)}),[Z]),(0,i.useEffect)((function(){m(null===e||void 0===e?void 0:e.map((function(n){var e,t;return{"T\xean m\xf4n h\u1ecdc":null===n||void 0===n?void 0:n.name,"Kh\u1ed1i l\u1edbp":null===n||void 0===n||null===(e=n.grades)||void 0===e||null===(t=e.map((function(n){return"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)})))||void 0===t?void 0:t.join(", "),"M\xf4 t\u1ea3 m\xf4n h\u1ecdc":null===n||void 0===n?void 0:n.description,"Ng\xe0y t\u1ea1o":(0,d.zM)(null===n||void 0===n?void 0:n.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,d.zM)(null===n||void 0===n?void 0:n.updatedAt)}})))}),[e]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{heading:"Qu\u1ea3n l\xfd m\xf4n h\u1ecdc",links:[{name:"M\xf4n h\u1ecdc"},{name:"Danh s\xe1ch",href:c.H.home.student.root},{name:"Qu\u1ea3n l\xfd m\xf4n h\u1ecdc"}],sx:{mb:{xs:3,md:5}}}),(0,C.jsx)(u.Z,{}),(0,C.jsx)(M,{open:t,onClose:function(){return r(!1)},grades:b})]})}function O(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(r.ql,{children:(0,C.jsx)("title",{children:" Qu\u1ea3n l\xfd m\xf4n h\u1ecdc "})}),(0,C.jsx)(N,{})]})}}}]);
//# sourceMappingURL=629.cecc433b.chunk.js.map