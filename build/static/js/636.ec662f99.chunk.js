"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[636],{63777:function(n,e,t){t.d(e,{ZP:function(){return l},k4:function(){return u},yr:function(){return s}});var i=t(74165),r=t(15861),o=t(29439),a=t(72791),c=t(12803);function l(){var n=(0,a.useState)({}),e=(0,o.Z)(n,2),t=e[0],l=e[1];return(0,a.useEffect)((function(){var n=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.course.offline.category.findMany({});case 2:(e=n.sent)&&l(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function u(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((0,i.Z)().mark((function n(e){var t,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.course.offline.category.create(e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n,e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,i.Z)().mark((function n(e,t){var r,o;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.course.offline.category.update(t,e);case 2:return r=n.sent,o=r.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},29554:function(n,e,t){t.d(e,{Cn:function(){return s},HV:function(){return u},ZP:function(){return l}});var i=t(74165),r=t(15861),o=t(29439),a=t(72791),c=t(12803);function l(){var n=(0,a.useState)({}),e=(0,o.Z)(n,2),t=e[0],l=e[1];return(0,a.useEffect)((function(){var n=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.course.offline.topic.findMany({});case 2:(e=n.sent)&&l(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function u(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((0,i.Z)().mark((function n(e){var t,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.course.offline.topic.create(e);case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function s(n,e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,i.Z)().mark((function n(e,t){var r,o;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.course.offline.topic.update(t,e);case 2:return r=n.sent,o=r.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,t){t.d(e,{O:function(){return u}});var i=t(1413),r=t(53767),o=t(49900),a=t(54852),c=t(63065),l=t(80184);function u(n){var e=n.primary,t=n.secondary,u=n.alt,d=n.src,s=n.sx;return(0,l.jsxs)(r.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,i.Z)({},s),children:[d&&(0,l.jsx)(a.Z,{alt:u,src:d,variant:"rounded"}),(0,l.jsx)(o.Z,{primary:(0,l.jsx)(c.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,l.jsx)(c.Z,{variant:"caption",color:"text.disabled",line:1,children:t||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,t){t.d(e,{Z:function(){return v}});var i=t(1413),r=t(45987),o=t(72791),a=t(50533),c=t(4567),l=t(13967),u=t(68051);function d(n){var e,t=(0,l.Z)(),i=(0,u.z)(),r=t.breakpoints.up("xl"===i?"lg":i),o=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&t.typography[n][r]?t.typography[n][r]:t.typography[n],a=(e=o.fontSize,Math.round(16*parseFloat(e))),c=Number(t.typography[n].lineHeight)*a,d=t.typography[n];return{fontSize:a,lineHeight:c,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing}}var s=t(80184),h=["asLink","variant","line","persistent","children","sx"],v=(0,o.forwardRef)((function(n,e){var t=n.asLink,o=n.variant,l=void 0===o?"body1":o,u=n.line,v=void 0===u?2:u,p=n.persistent,f=void 0!==p&&p,m=n.children,x=n.sx,b=(0,r.Z)(n,h),Z=d(l).lineHeight,g=(0,i.Z)((0,i.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:v,WebkitBoxOrient:"vertical"},f&&{height:Z*v}),x);return t?(0,s.jsx)(a.Z,(0,i.Z)((0,i.Z)({color:"inherit",ref:e,variant:l,sx:(0,i.Z)({},g)},b),{},{children:m})):(0,s.jsx)(c.Z,(0,i.Z)((0,i.Z)({ref:e,variant:l,sx:(0,i.Z)({},g)},b),{},{children:m}))}))},17299:function(n,e,t){t.r(e),t.d(e,{default:function(){return z}});var i=t(6907),r=t(1413),o=t(72791),a=t(54406),c=t(63777),l=t(95305),u=t(29554),d=t(7055),s=t(34055),h=t(65478),v=t(244),p=t(74165),f=t(15861),m=t(44695),x=t(61134),b=t(8007),Z=t(46002),g=t(30439),j=t(5574),y=t(82626),w=t(97123),_=t(39157),k=t(65661),C=t(61889),S=t(53767),T=t(72369),M=t(11857),P=t(80184);function H(n){var e,t=n.open,i=n.onClose,a=n.subjects,c=n.categories,l=(0,v.S)(),d=l._table_row_selected,s=l.onSetTableRowSelected,h=l.onCreateNewRow,H=l.onUpdateRow,q=!!d,K=(0,M.Ds)().enqueueSnackbar,O=b.Ry().shape({name:b.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean ch\u1ee7 \u0111\u1ec1 !"),description:b.nK(),subject:b.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn m\xf4n cho ch\u1ee7 \u0111\u1ec1 !"),categories:b.IX().min(1,"C\u1ea7n \xedt nh\u1ea5t m\u1ed9t danh m\u1ee5c trong ch\u1ee7 \u0111\u1ec1 !"),grades:b.IX().min(1,"Ch\u1ee7 \u0111\u1ec1 c\u1ea7n thu\u1ed9c \xedt nh\u1ea5t m\u1ed9t kh\u1ed1i l\u1edbp !")}),R=(0,o.useMemo)((function(){var n,e,t;return{name:(null===d||void 0===d?void 0:d.name)||"",description:(null===d||void 0===d?void 0:d.description)||"",subject:(null===d||void 0===d||null===(n=d.subject)||void 0===n?void 0:n.id)||"",categories:(null===d||void 0===d||null===(e=d.categories)||void 0===e?void 0:e.map((function(n){return null===n||void 0===n?void 0:n.id})))||(null===c||void 0===c?void 0:c.map((function(n){return null===n||void 0===n?void 0:n.id}))),grades:(null===d||void 0===d||null===(t=d.grades)||void 0===t?void 0:t.map((function(n){return null===n||void 0===n?void 0:n.id})))||[]}}),[d,c]),W=(0,x.cI)({resolver:(0,m.X)(O),defaultValues:R}),A=W.reset,E=W.watch,N=W.handleSubmit,z=W.formState.isSubmitting,F=E();(0,o.useEffect)((function(){A(R)}),[A,d,R]);var I=N(function(){var n=(0,f.Z)((0,p.Z)().mark((function n(e){var t,i,o,a;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=(0,r.Z)((0,r.Z)({},e),{},{subject:{connect:{id:+e.subject}},grades:{connect:e.grades.map((function(n){return{id:n}}))},categories:{connect:e.categories.map((function(n){return{id:n}}))}}),i=(0,r.Z)((0,r.Z)({},e),{},{subject:{connect:{id:+e.subject}},grades:{set:e.grades.map((function(n){return{id:n}}))},categories:{set:e.categories.map((function(n){return{id:n}}))}}),n.prev=2,q){n.next=11;break}return n.next=6,(0,u.HV)(t);case 6:o=n.sent,h(o),K("\u0110\xe3 th\xeam d\u1eef li\u1ec7u ch\u1ee7 \u0111\u1ec1 m\u1edbi !"),n.next=16;break;case 11:return n.next=13,(0,u.Cn)(i,d.id);case 13:a=n.sent,H(a),K("\u0110\xe3 c\u1eadp nh\u1eadt ch\u1ee7 \u0111\u1ec1 ".concat(e.name," !"));case 16:A(),Y(),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),K("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 23:case"end":return n.stop()}}),n,null,[[2,20]])})));return function(e){return n.apply(this,arguments)}}()),Y=function(){s(null),i()},B=null===a||void 0===a||null===(e=a.filter((function(n){return(null===n||void 0===n?void 0:n.id)===(null===F||void 0===F?void 0:F.subject)}))[0])||void 0===e?void 0:e.grades;return(0,P.jsx)(j.Z,{fullWidth:!0,maxWidth:!1,open:t,onClose:Y,PaperProps:{sx:{maxWidth:720}},children:(0,P.jsxs)(T.ZP,{methods:W,onSubmit:I,children:[(0,P.jsx)(k.Z,{children:q?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u ch\u1ee7 \u0111\u1ec1 ".concat(null===d||void 0===d?void 0:d.name):"Th\xeam d\u1eef li\u1ec7u ch\u1ee7 \u0111\u1ec1 m\u1edbi"}),(0,P.jsx)(_.Z,{children:(0,P.jsx)(C.ZP,{container:!0,spacing:2,children:(0,P.jsx)(C.ZP,{item:!0,xs:12,children:(0,P.jsxs)(S.Z,{spacing:2,children:[(0,P.jsx)(T.jY,{label:"T\xean ch\u1ee7 \u0111\u1ec1 :",required:!0,children:(0,P.jsx)(T.au,{name:"name",label:"T\xean ch\u1ee7 \u0111\u1ec1..."})}),(0,P.jsx)(T.jY,{label:"Ch\u1ee7 \u0111\u1ec1 thu\u1ed9c m\xf4n h\u1ecdc :",required:!0,children:(0,P.jsx)(T.Cc,{name:"subject",label:"Ch\u1ecdn m\xf4n h\u1ecdc...",children:null===a||void 0===a?void 0:a.map((function(n){return(0,P.jsx)(y.Z,{value:null===n||void 0===n?void 0:n.id,children:null===n||void 0===n?void 0:n.name})}))})}),(null===B||void 0===B?void 0:B.length)&&(0,P.jsx)(T.jY,{label:"Ch\u1ee7 \u0111\u1ec1 thu\u1ed9c kh\u1ed1i l\u1edbp :",required:!0,children:(0,P.jsx)(T.vA,{label:"Ch\u1ecdn kh\u1ed1i l\u1edbp...",chip:!0,checkbox:!0,name:"grades",options:null===B||void 0===B?void 0:B.map((function(n){return{value:null===n||void 0===n?void 0:n.id,label:"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)}})),sx:{width:"100%"}})}),(0,P.jsx)(T.jY,{label:"Ch\u1ee7 \u0111\u1ec1 g\u1ed3m c\xe1c danh m\u1ee5c :",required:!0,children:(0,P.jsx)(T.vA,{label:"Ch\u1ecdn danh m\u1ee5c...",chip:!0,checkbox:!0,name:"categories",options:null===c||void 0===c?void 0:c.map((function(n){return{value:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.name}})),sx:{width:"100%"}})}),(0,P.jsx)(T.jY,{label:"M\xf4 t\u1ea3 ch\u1ee7 \u0111\u1ec1 :",children:(0,P.jsx)(T.au,{name:"description",label:"M\xf4 t\u1ea3 ch\u1ee7 \u0111\u1ec1...",multiline:!0,rows:3})})]})})})}),(0,P.jsxs)(w.Z,{children:[(0,P.jsx)(g.Z,{variant:"outlined",onClick:Y,children:"Hu\u1ef7 b\u1ecf"}),(0,P.jsx)(Z.Z,{type:"submit",color:"primary",variant:"contained",loading:z,children:q?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var q=t(27938),K=t(68745),O=(0,t(42387).Z)(),R=t(90651),W=[{id:"name",label:"T\xean ch\u1ee7 \u0111\u1ec1",flex:1},{id:"subject",label:"Thu\u1ed9c m\xf4n h\u1ecdc",flex:1},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"category",label:"G\u1ed3m c\xe1c danh m\u1ee5c",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],A=function(n){var e,t,i;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(K.Z,{children:(0,P.jsx)(R.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.description})}),(0,P.jsx)(K.Z,{children:(0,P.jsx)(R.O,{primary:null===n||void 0===n||null===(e=n.subject)||void 0===e?void 0:e.name,secondary:null===n||void 0===n||null===(t=n.grades)||void 0===t||null===(i=t.map((function(n){return"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)})))||void 0===i?void 0:i.join(", ")})})]})},E=function(n){var e;return(0,P.jsx)(O,{component:q.Z,sx:{m:1.5},children:null===n||void 0===n||null===(e=n.categories)||void 0===e?void 0:e.map((function(n){return(0,P.jsx)(O,{direction:"row",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(n){return"solid 2px ".concat(n.palette.background.neutral)}}},children:(0,P.jsx)(R.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.description})},null===n||void 0===n?void 0:n._id)}))})};function N(){var n=(0,v.S)(),e=n._table_data,t=n._table_open_form,i=n.onSetOpenForm,p=n.onSetTableData,f=n.onSetTableHeader,m=n.onSetTableRows,x=n.onSetTableRowCollapse,b=n.onSetExportTableData,Z=n.onSetConfigTable,g=(0,u.ZP)().data,j=(0,l.ZP)().data,y=(0,c.ZP)().data;return(0,o.useEffect)((function(){p(null===g||void 0===g?void 0:g.map((function(n){var e,t,i,o;return(0,r.Z)((0,r.Z)({},n),{},{type:"".concat(null===n||void 0===n||null===(e=n.subject)||void 0===e?void 0:e.name," l\u1edbp ").concat(null===n||void 0===n||null===(t=n.subject)||void 0===t||null===(i=t.grades)||void 0===i||null===(o=i.map((function(n){return null===n||void 0===n?void 0:n.label})))||void 0===o?void 0:o.join(""))})}))),Z({table_name:"topic",add_new:!0,filter_by_date:!0,filter_by_type:!0,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),f(W),m(A),x(E)}),[g]),(0,o.useEffect)((function(){b(null===e||void 0===e?void 0:e.map((function(n){var e,t,i;return{"T\xean ch\u1ee7 \u0111\u1ec1":null===n||void 0===n?void 0:n.name,"M\xf4 t\u1ea3 ch\u1ee7 \u0111\u1ec1":null===n||void 0===n?void 0:n.description,"Thu\u1ed9c m\xf4n h\u1ecdc":null===n||void 0===n||null===(e=n.subject)||void 0===e?void 0:e.name,"Thu\u1ed9c kh\u1ed1i l\u1edbp":null===n||void 0===n||null===(t=n.grades)||void 0===t||null===(i=t.map((function(n){return"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)})))||void 0===i?void 0:i.join(", "),"Ng\xe0y t\u1ea1o":(0,s.zM)(null===n||void 0===n?void 0:n.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,s.zM)(null===n||void 0===n?void 0:n.updatedAt)}})))}),[e]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a.Z,{heading:"Qu\u1ea3n l\xfd ch\u1ee7 \u0111\u1ec1",links:[{name:"M\xf4n h\u1ecdc"},{name:"Ch\u1ee7 \u0111\u1ec1",href:d.H.home.subject.topic},{name:"Qu\u1ea3n l\xfd ch\u1ee7 \u0111\u1ec1"}],sx:{mb:{xs:3,md:5}}}),(0,P.jsx)(h.Z,{}),(0,P.jsx)(H,{open:t,onClose:function(){return i(!1)},subjects:j,categories:y})]})}function z(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.ql,{children:(0,P.jsx)("title",{children:" Danh m\u1ee5c ch\u1ee7 \u0111\u1ec1 "})}),(0,P.jsx)(N,{})]})}}}]);
//# sourceMappingURL=636.ec662f99.chunk.js.map