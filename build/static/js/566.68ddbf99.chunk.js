(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[566],{11460:function(n,e,i){"use strict";i.d(e,{C7:function(){return d},ZP:function(){return c},zI:function(){return s}});var t=i(74165),o=i(15861),r=i(29439),l=i(72791),a=i(12803);function c(){var n=(0,l.useState)({}),e=(0,r.Z)(n,2),i=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.bookseries.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}function s(n){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,t.Z)().mark((function n(e){var i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.bookseries.create(e);case 2:return i=n.sent,o=i.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)((0,t.Z)().mark((function n(e,i){var o,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.bookseries.update(i,e);case 2:return o=n.sent,r=o.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},63777:function(n,e,i){"use strict";i.d(e,{ZP:function(){return c},k4:function(){return s},yr:function(){return d}});var t=i(74165),o=i(15861),r=i(29439),l=i(72791),a=i(12803);function c(){var n=(0,l.useState)({}),e=(0,r.Z)(n,2),i=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.category.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}function s(n){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,t.Z)().mark((function n(e){var i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.category.create(e);case 2:return i=n.sent,o=i.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)((0,t.Z)().mark((function n(e,i){var o,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.category.update(i,e);case 2:return o=n.sent,r=o.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},55164:function(n,e,i){"use strict";i.d(e,{LX:function(){return d},ZP:function(){return c},q$:function(){return s}});var t=i(74165),o=i(15861),r=i(29439),l=i(72791),a=i(12803);function c(){var n=(0,l.useState)({}),e=(0,r.Z)(n,2),i=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.grade.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}function s(n){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,t.Z)().mark((function n(e){var i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.grade.create(e);case 2:return i=n.sent,o=i.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)((0,t.Z)().mark((function n(e,i){var o,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.grade.update(i,e);case 2:return o=n.sent,r=o.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},64639:function(n,e,i){"use strict";i.d(e,{TX:function(){return s},ZP:function(){return c},cy:function(){return d}});var t=i(74165),o=i(15861),r=i(29439),l=i(72791),a=i(12803);function c(){var n=(0,l.useState)({}),e=(0,r.Z)(n,2),i=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.school.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}function s(n){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,t.Z)().mark((function n(e){var i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.school.create(e);case 2:return i=n.sent,o=i.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)((0,t.Z)().mark((function n(e,i){var o,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.school.update(i,e);case 2:return o=n.sent,r=o.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},29554:function(n,e,i){"use strict";i.d(e,{Cn:function(){return d},HV:function(){return s},ZP:function(){return c}});var t=i(74165),o=i(15861),r=i(29439),l=i(72791),a=i(12803);function c(){var n=(0,l.useState)({}),e=(0,r.Z)(n,2),i=e[0],c=e[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.topic.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}function s(n){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,t.Z)().mark((function n(e){var i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.topic.create(e);case 2:return i=n.sent,o=i.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)((0,t.Z)().mark((function n(e,i){var o,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.course.offline.topic.update(i,e);case 2:return o=n.sent,r=o.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,i){"use strict";i.d(e,{O:function(){return s}});var t=i(1413),o=i(53767),r=i(49900),l=i(54852),a=i(63065),c=i(80184);function s(n){var e=n.primary,i=n.secondary,s=n.alt,u=n.src,d=n.sx;return(0,c.jsxs)(o.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,t.Z)({},d),children:[u&&(0,c.jsx)(l.Z,{alt:s,src:u,variant:"rounded"}),(0,c.jsx)(r.Z,{primary:(0,c.jsx)(a.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,c.jsx)(a.Z,{variant:"caption",color:"text.disabled",line:1,children:i||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,i){"use strict";i.d(e,{Z:function(){return p}});var t=i(1413),o=i(45987),r=i(72791),l=i(50533),a=i(4567),c=i(13967),s=i(68051);function u(n){var e,i=(0,c.Z)(),t=(0,s.z)(),o=i.breakpoints.up("xl"===t?"lg":t),r=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&i.typography[n][o]?i.typography[n][o]:i.typography[n],l=(e=r.fontSize,Math.round(16*parseFloat(e))),a=Number(i.typography[n].lineHeight)*l,u=i.typography[n];return{fontSize:l,lineHeight:a,fontWeight:u.fontWeight,letterSpacing:u.letterSpacing}}var d=i(80184),v=["asLink","variant","line","persistent","children","sx"],p=(0,r.forwardRef)((function(n,e){var i=n.asLink,r=n.variant,c=void 0===r?"body1":r,s=n.line,p=void 0===s?2:s,f=n.persistent,h=void 0!==f&&f,m=n.children,x=n.sx,Z=(0,o.Z)(n,v),b=u(c).lineHeight,j=(0,t.Z)((0,t.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:p,WebkitBoxOrient:"vertical"},h&&{height:b*p}),x);return i?(0,d.jsx)(l.Z,(0,t.Z)((0,t.Z)({color:"inherit",ref:e,variant:c,sx:(0,t.Z)({},j)},Z),{},{children:m})):(0,d.jsx)(a.Z,(0,t.Z)((0,t.Z)({ref:e,variant:c,sx:(0,t.Z)({},j)},Z),{},{children:m}))}))},27474:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return Ze}});var t=i(6907),o=i(19138),r=i(4942),l=i(29439),a=i(1413),c=i(72791),s=i(18111),u=i.n(s),d=i(45812),v=i.n(d),p=i(26310),f=i.n(p),h=i(89744),m=i(64554),x=i(30439),Z=i(85771),b=i(53767),j=i(48550),g=i(43146),y=i(72466),k=i(20068),w=i(54406),C=i(85506),_=i(61005);function S(n){var e=(0,c.useState)(-1),i=(0,l.Z)(e,2),t=i[0],o=i[1];return{selected:t,open:t>=0,onOpen:(0,c.useCallback)((function(e){var i=n.findIndex((function(n){return"video"===n.type?n.poster===e:n.src===e}));o(i)}),[n]),onClose:(0,c.useCallback)((function(){o(-1)}),[]),setSelected:o}}var T=i(45987),I=i(62291),O=i(70482),z=i(98628),P=i(73557),E=i(19375),F=i(38559),D=i(36654),R=i(13967),W=i(12065),q=i(6199),L=i(80184);function H(){var n=(0,R.Z)();return(0,L.jsx)(q.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,W.Fq)(n.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,W.Fq)(n.palette.grey[900],.48)},".yarl__slide_title":{fontSize:n.typography.h5.fontSize,fontWeight:n.typography.h5.fontWeight,lineHeight:n.typography.h5.lineHeight},".yarl__slide_description":{fontSize:n.typography.body2.fontSize,fontWeight:n.typography.body2.fontWeight,lineHeight:n.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:n.palette.common.black}}})}var B=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],M=24;function A(n){var e=n.slides,i=n.disabledZoom,t=n.disabledVideo,o=n.disabledTotal,r=n.disabledCaptions,l=n.disabledSlideshow,c=n.disabledThumbnails,s=n.disabledFullscreen,u=n.onGetCurrentIndex,d=(0,T.Z)(n,B),v=e?e.length:0;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(H,{}),(0,L.jsx)(I.ZP,(0,a.Z)({slides:e,animation:{swipe:240},carousel:{finite:v<5},controller:{closeOnBackdropClick:!0},plugins:V({disabledZoom:i,disabledVideo:t,disabledCaptions:r,disabledSlideshow:l,disabledThumbnails:c,disabledFullscreen:s}),on:{view:function(n){var e=n.index;u&&u(e)}},toolbar:{buttons:[(0,L.jsx)(K,{totalItems:v,disabledTotal:o},0),"close"]},render:{iconClose:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:close"})},iconZoomIn:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:pause"})},iconPrev:function(){return(0,L.jsx)(_.Z,{width:M+8,icon:"carbon:chevron-left"})},iconNext:function(){return(0,L.jsx)(_.Z,{width:M+8,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,L.jsx)(_.Z,{width:M,icon:"carbon:fit-to-screen"})}}},d))]})}function V(n){var e=n.disabledZoom,i=n.disabledVideo,t=n.disabledCaptions,o=n.disabledSlideshow,r=n.disabledThumbnails,l=n.disabledFullscreen,a=[P.Z,F.Z,E.Z,D.Z,z.Z,O.Z];return r&&(a=a.filter((function(n){return n!==D.Z}))),t&&(a=a.filter((function(n){return n!==P.Z}))),l&&(a=a.filter((function(n){return n!==F.Z}))),o&&(a=a.filter((function(n){return n!==E.Z}))),e&&(a=a.filter((function(n){return n!==O.Z}))),i&&(a=a.filter((function(n){return n!==z.Z}))),a}function K(n){var e=n.totalItems,i=n.disabledTotal,t=(0,I.oc)().currentIndex;return i?null:(0,L.jsxs)(m.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,L.jsxs)("strong",{children:[" ",t+1," "]})," / ",e]})}var X=i(11460),N=i(63777),U=i(55164),Y=i(74165),G=i(15861),$=i(12803);function Q(n){return J.apply(this,arguments)}function J(){return(J=(0,G.Z)((0,Y.Z)().mark((function n(e){var i,t;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.Z.course.offline.document.create(e);case 2:return i=n.sent,t=i.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function nn(n,e){return en.apply(this,arguments)}function en(){return(en=(0,G.Z)((0,Y.Z)().mark((function n(e,i){var t,o;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.Z.course.offline.document.update(i,e);case 2:return t=n.sent,o=t.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var tn=i(64639),on=i(95305),rn=i(29554),ln=i(39858),an=i(7055),cn=i(71839),sn=i(14783),un=i(244),dn=i(65478),vn=i(93433),pn=i(27029),fn=i(46128),hn=i(94721),mn=i(13034),xn=i(13400),Zn=i(4567),bn=i(25801),jn=i(93317);function gn(n){var e,i=n.open,t=n.onOpen,o=n.onClose,r=n.filters,l=n.onFilters,s=n.canReset,u=n.onResetFilters,d=n.bookOptions,v=n.gradeOptions,p=n.subjectOptions,f=n.categoryOptions,m=n.topicsOptions,g=(0,c.useCallback)((function(n){var e=r.category.includes(n)?r.category.filter((function(e){return e!==n})):[].concat((0,vn.Z)(r.category),[n]);l("category",e)}),[r.category,l]),y=(0,c.useCallback)((function(n){l("subjects",n)}),[l]),w=(0,c.useCallback)((function(n){l("grades",n)}),[l]),C=(0,c.useCallback)((function(n){l("topics",n)}),[l]),S=(0,c.useCallback)((function(n){l("books",n)}),[l]),T=(0,L.jsxs)(b.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,L.jsx)(Zn.Z,{variant:"h6",sx:{flexGrow:1},children:"B\u1ed9 l\u1ecdc"}),(0,L.jsx)(k.Z,{title:"L\xe0m m\u1edbi",children:(0,L.jsx)(xn.Z,{onClick:u,children:(0,L.jsx)(pn.Z,{color:"error",variant:"dot",invisible:!s,children:(0,L.jsx)(_.Z,{icon:"solar:restart-bold"})})})}),(0,L.jsx)(xn.Z,{onClick:o,children:(0,L.jsx)(_.Z,{icon:"mingcute:close-line"})})]}),I=(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(Zn.Z,{variant:"subtitle2",sx:{mb:1},children:"Danh m\u1ee5c"}),null===f||void 0===f?void 0:f.map((function(n){return(0,L.jsx)(bn.Z,{control:(0,L.jsx)(mn.Z,{checked:r.category.includes(n),onClick:function(){return g(n)}}),label:n},n)}))]}),O=(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(Zn.Z,{variant:"subtitle2",sx:{mb:1.5},children:"M\xf4n h\u1ecdc"}),(0,L.jsx)(h.Z,{multiple:!0,size:"small",options:p,getOptionLabel:function(n){return n},value:r.subjects,onChange:function(n,e){return y(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn m\xf4n h\u1ecdc..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}})]}),z=(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(Zn.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Kh\u1ed1i l\u1edbp"}),(0,L.jsx)(h.Z,{multiple:!0,size:"small",options:v,getOptionLabel:function(n){return n},value:r.grades,onChange:function(n,e){return w(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn kh\u1ed1i l\u1edbp..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}})]}),P=(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(Zn.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Ch\u1ee7 \u0111\u1ec1"}),(0,L.jsx)(h.Z,{multiple:!0,size:"small",disabled:!(null!==(e=r.subjects)&&void 0!==e&&e.length),options:m,getOptionLabel:function(n){return n},value:r.topics,onChange:function(n,e){return C(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn ch\u1ee7 \u0111\u1ec1..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}})]}),E=(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(Zn.Z,{variant:"subtitle2",sx:{mb:1.5},children:"B\u1ed9 s\xe1ch"}),(0,L.jsx)(h.Z,{multiple:!0,size:"small",options:d,getOptionLabel:function(n){return n},value:r.books,onChange:function(n,e){return S(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn b\u1ed9 s\xe1ch..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}})]});return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(x.Z,{disableRipple:!0,color:"inherit",endIcon:(0,L.jsx)(pn.Z,{color:"error",variant:"dot",invisible:!s,children:(0,L.jsx)(_.Z,{icon:"ic:round-filter-list"})}),onClick:t,children:"B\u1ed9 l\u1ecdc"}),(0,L.jsxs)(fn.ZP,{anchor:"right",open:i,onClose:o,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[T,(0,L.jsx)(hn.Z,{}),(0,L.jsx)(jn.Z,{sx:{px:2.5,py:3},children:(0,L.jsxs)(b.Z,{spacing:1,children:[p&&O,v&&z,m&&P,d&&E,f&&I]})})]})]})}var yn=i(27938),kn=["filters","onFilters","canReset","onResetFilters","results"],wn=["label","children","sx"];function Cn(n){var e=n.filters,i=n.onFilters,t=n.canReset,o=n.onResetFilters,r=n.results,l=(0,T.Z)(n,kn);return(0,L.jsxs)(b.Z,(0,a.Z)((0,a.Z)({spacing:1.5,sx:{ml:3,mb:3}},l),{},{children:[(0,L.jsx)(m.Z,{sx:{typography:"body2"},children:(0,L.jsxs)(m.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:["K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm ( ",(0,L.jsx)("strong",{children:r})," ) :"]})}),(0,L.jsxs)(b.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!e.search.length&&(0,L.jsx)(_n,{label:"T\u1eeb kh\xf3a :",children:(0,L.jsx)(Z.Z,{size:"small",label:e.search,onDelete:function(n){i("search","")}})}),!!e.subjects.length&&(0,L.jsx)(_n,{label:"M\xf4n h\u1ecdc :",children:e.subjects.map((function(n){return(0,L.jsx)(Z.Z,{label:n,size:"small",onDelete:function(){return function(n){var t=e.subjects.filter((function(e){return e!==n}));i("subjects",t)}(n)}},n)}))}),!!e.grades.length&&(0,L.jsx)(_n,{label:"Kh\u1ed1i l\u1edbp :",children:e.grades.map((function(n){return(0,L.jsx)(Z.Z,{label:n,size:"small",onDelete:function(){return function(n){var t=e.grades.filter((function(e){return e!==n}));i("grades",t)}(n)}},n)}))}),!!e.topics.length&&(0,L.jsx)(_n,{label:"Ch\u1ee7 \u0111\u1ec1 :",children:e.topics.map((function(n){return(0,L.jsx)(Z.Z,{label:n,size:"small",onDelete:function(){return function(n){var t=e.topics.filter((function(e){return e!==n}));i("topics",t)}(n)}},n)}))}),!!e.books.length&&(0,L.jsx)(_n,{label:"B\u1ed9 s\xe1ch :",children:e.books.map((function(n){return(0,L.jsx)(Z.Z,{label:n,size:"small",onDelete:function(){return function(n){var t=e.books.filter((function(e){return e!==n}));i("books",t)}(n)}},n)}))}),"T\u1ea5t c\u1ea3 t\xe0i li\u1ec7u"!==e.type&&(0,L.jsx)(_n,{label:"Ch\u1ee7 \u0111\u1ec1 :",children:(0,L.jsx)(Z.Z,{size:"small",label:e.type,onDelete:function(){i("type","T\u1ea5t c\u1ea3 t\xe0i li\u1ec7u")}})}),!!e.category.length&&(0,L.jsx)(_n,{label:"Danh m\u1ee5c :",children:e.category.map((function(n){return(0,L.jsx)(Z.Z,{label:n,size:"small",onDelete:function(){return function(n){var t=e.category.filter((function(e){return e!==n}));i("category",t)}(n)}},n)}))}),t&&(0,L.jsx)(x.Z,{color:"error",onClick:o,startIcon:(0,L.jsx)(_.Z,{icon:"solar:trash-bin-trash-bold"}),children:"L\xe0m m\u1edbi"})]})]}))}function _n(n){var e=n.label,i=n.children,t=n.sx,o=(0,T.Z)(n,wn);return(0,L.jsxs)(b.Z,(0,a.Z)((0,a.Z)({component:yn.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,a.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},t)},o),{},{children:[(0,L.jsx)(m.Z,{component:"span",sx:{typography:"subtitle2"},children:e}),(0,L.jsx)(b.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:i})]}))}var Sn=i(63466);function Tn(n){var e=n.value,i=n.onChange;return(0,L.jsx)(j.Z,{sx:{width:320},size:"small",placeholder:"T\xecm ki\u1ebfm t\xe0i li\u1ec7u...",value:e,onChange:i,InputProps:{startAdornment:(0,L.jsx)(Sn.Z,{position:"start",children:(0,L.jsx)(_.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}})}var In=i(82626),On=i(94920);function zn(n){var e=n.sort,i=n.sortOptions,t=n.onSort,o=(0,On.S)(),r=(0,ln.nt)().t;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(x.Z,{disableRipple:!0,color:"inherit",onClick:o.onOpen,endIcon:(0,L.jsx)(_.Z,{icon:o.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:[r("S\u1eafp x\u1ebfp")," :",(0,L.jsx)(m.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:e})]}),(0,L.jsx)(On.Z,{open:o.open,onClose:o.onClose,sx:{width:180},children:i.map((function(n){return(0,L.jsx)(In.Z,{selected:e===n.value,onClick:function(){o.onClose(),t(n.value)},children:n.label},n.value)}))})]})}var Pn=i(37762),En=i(44695),Fn=i(61134),Dn=i(8007),Rn=i(46002),Wn=i(5574),qn=i(97123),Ln=i(39157),Hn=i(65661),Bn=i(61889),Mn=i(72369),An=i(11857);function Vn(n){var e=n.open,i=n.onClose,t=n.setData,o=n.grades,r=(0,An.Ds)().enqueueSnackbar,l=Dn.Ry().shape({name:Dn.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean m\xf4n h\u1ecdc !"),grades:Dn.IX().min(1,"B\u1ea1n c\u1ea7n \xedt nh\u1ea5t m\u1ed9t kh\u1ed1i l\u1edbp cho m\xf4n h\u1ecdc !")}),s=(0,c.useMemo)((function(){return{name:"",grades:[]}}),[]),u=(0,Fn.cI)({resolver:(0,En.X)(l),defaultValues:s}),d=u.reset,v=u.handleSubmit,p=u.formState.isSubmitting;(0,c.useEffect)((function(){d(s)}),[d,s]);var f=v(function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(e){var o,l;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(0,a.Z)((0,a.Z)({},e),{},{grades:{connect:e.grades.map((function(n){return{id:+n}}))}}),n.prev=1,n.next=4,(0,on.I5)(o);case 4:l=n.sent,t("subjects",l),r("\u0110\xe3 th\xeam d\u1eef li\u1ec7u m\xf4n h\u1ecdc m\u1edbi !"),d(),i(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}());return(0,L.jsx)(On.Z,{open:e,onClose:i,arrow:"top-right",sx:{width:360},children:(0,L.jsx)(Mn.ZP,{methods:u,onSubmit:f,children:(0,L.jsxs)(b.Z,{spacing:1,sx:{p:1},children:[(0,L.jsx)(Mn.jY,{label:"T\xean m\xf4n h\u1ecdc :",required:!0,children:(0,L.jsx)(Mn.au,{size:"small",name:"name"})}),(0,L.jsx)(Mn.jY,{label:"Thu\u1ed9c kh\u1ed1i l\u1edbp :",required:!0,children:(0,L.jsx)(Mn.vA,{chip:!0,size:"small",checkbox:!0,name:"grades",options:null===o||void 0===o?void 0:o.map((function(n){return{value:null===n||void 0===n?void 0:n.id,label:"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)}})),sx:{width:"100%"}})}),(0,L.jsxs)(b.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,L.jsx)(x.Z,{onClick:i,children:"Hu\u1ef7 b\u1ecf"}),(0,L.jsx)(Rn.Z,{type:"submit",color:"primary",loading:p,children:"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})})}function Kn(n){var e,i=n.open,t=n.onClose,o=n.subjectId,r=n.subjects,l=n.categories,s=n.setData,u=(0,An.Ds)().enqueueSnackbar,d=null===r||void 0===r||null===(e=r.filter((function(n){return(null===n||void 0===n?void 0:n.id)===o}))[0])||void 0===e?void 0:e.grades,v=Dn.Ry().shape({name:Dn.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean ch\u1ee7 \u0111\u1ec1 !"),categories:Dn.IX().min(1,"C\u1ea7n \xedt nh\u1ea5t m\u1ed9t danh m\u1ee5c trong ch\u1ee7 \u0111\u1ec1 !"),grades:Dn.IX().min(1,"Ch\u1ee7 \u0111\u1ec1 c\u1ea7n thu\u1ed9c \xedt nh\u1ea5t m\u1ed9t kh\u1ed1i l\u1edbp !")}),p=(0,c.useMemo)((function(){return{name:"",categories:null===l||void 0===l?void 0:l.map((function(n){return null===n||void 0===n?void 0:n.id})),grades:null===d||void 0===d?void 0:d.map((function(n){return null===n||void 0===n?void 0:n.id}))}}),[l]),f=(0,Fn.cI)({resolver:(0,En.X)(v),defaultValues:p}),h=f.reset,m=f.handleSubmit,Z=f.formState.isSubmitting;(0,c.useEffect)((function(){h(p)}),[h,p]);var j=m(function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(e){var i,r;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,a.Z)((0,a.Z)({},e),{},{subject:{connect:{id:+o}},grades:{connect:e.grades.map((function(n){return{id:n}}))},categories:{connect:e.categories.map((function(n){return{id:n}}))}}),n.prev=1,n.next=4,(0,rn.HV)(i);case 4:r=n.sent,s("topics",r),u("\u0110\xe3 th\xeam d\u1eef li\u1ec7u ch\u1ee7 \u0111\u1ec1 m\u1edbi !"),h(),t(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),u("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}());return(0,L.jsx)(On.Z,{open:i,onClose:t,arrow:"top-right",sx:{width:360},children:(0,L.jsx)(Mn.ZP,{methods:f,onSubmit:j,children:(0,L.jsxs)(b.Z,{spacing:1,sx:{p:1},children:[(0,L.jsx)(Mn.jY,{label:"T\xean ch\u1ee7 \u0111\u1ec1 :",required:!0,children:(0,L.jsx)(Mn.au,{size:"small",name:"name"})}),(null===d||void 0===d?void 0:d.length)&&(0,L.jsx)(Mn.jY,{label:"Ch\u1ee7 \u0111\u1ec1 thu\u1ed9c kh\u1ed1i l\u1edbp :",required:!0,children:(0,L.jsx)(Mn.vA,{size:"small",chip:!0,checkbox:!0,name:"grades",options:null===d||void 0===d?void 0:d.map((function(n){return{value:null===n||void 0===n?void 0:n.id,label:"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)}})),sx:{width:"100%"}})}),(0,L.jsx)(Mn.jY,{label:"Ch\u1ee7 \u0111\u1ec1 g\u1ed3m c\xe1c danh m\u1ee5c :",required:!0,children:(0,L.jsx)(Mn.vA,{size:"small",chip:!0,checkbox:!0,name:"categories",options:null===l||void 0===l?void 0:l.map((function(n){return{value:null===n||void 0===n?void 0:n.id,label:null===n||void 0===n?void 0:n.name}})),sx:{width:"100%"}})}),(0,L.jsxs)(b.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,L.jsx)(x.Z,{onClick:t,children:"Hu\u1ef7 b\u1ecf"}),(0,L.jsx)(Rn.Z,{type:"submit",color:"primary",loading:Z,children:"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})})}var Xn=function(n){return null!==n&&void 0!==n&&n.endsWith(".png")||null!==n&&void 0!==n&&n.endsWith(".jpg")||null!==n&&void 0!==n&&n.endsWith(".jpeg")?"image":null!==n&&void 0!==n&&n.endsWith(".mp4")||null!==n&&void 0!==n&&n.endsWith(".mov")||null!==n&&void 0!==n&&n.endsWith(".avi")||null!==n&&void 0!==n&&n.endsWith(".webm")||null!==n&&void 0!==n&&n.endsWith(".wmv")||null!==n&&void 0!==n&&n.endsWith(".mkv")||null!==n&&void 0!==n&&n.endsWith(".vob")||null!==n&&void 0!==n&&n.endsWith(".flv")?"video":"other"};function Nn(n){var e,i,t,o=n.open,r=n.onClose,s=n.books,u=n.grades,d=n.schools,v=n.subjects,p=n.categories,f=(0,un.S)(),h=f.onCreateNewRow,m=f.onUpdateRow,Z=f._table_row_selected,j=f.onSetTableRowSelected,g=!!Z,y=(0,c.useState)({}),k=(0,l.Z)(y,2),w=k[0],C=k[1];(0,c.useEffect)((function(){var n,e;C({schools:d,subjects:v,topics:null===Z||void 0===Z||null===(n=Z.subject)||void 0===n?void 0:n.topics,categories:null===Z||void 0===Z||null===(e=Z.topic)||void 0===e?void 0:e.categories})}),[d,v,Z]);var _=(0,An.Ds)().enqueueSnackbar,S=(0,On.S)(),T=(0,On.S)(),I=Dn.Ry().shape({category:Dn.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn danh m\u1ee5c cho t\xe0i li\u1ec7u !"),bookSeries:Dn.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn b\u1ed9 s\xe1ch cho t\xe0i li\u1ec7u !"),subject:Dn.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn m\xf4n h\u1ecdc cho t\xe0i li\u1ec7u"),topic:Dn.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn ch\u1ee7 \u0111\u1ec1 cho t\xe0i li\u1ec7u n\xe0y !"),files:Dn.IX().min(1,"C\u1ea7n \xedt nh\u1ea5t 1 file t\xe0i li\u1ec7u !")}),O=(0,c.useMemo)((function(){var n,e,i,t,o;return{category:(null===Z||void 0===Z||null===(n=Z.category)||void 0===n?void 0:n.id)||"",subject:(null===Z||void 0===Z||null===(e=Z.subject)||void 0===e?void 0:e.id)||"",bookSeries:(null===Z||void 0===Z||null===(i=Z.bookSeries)||void 0===i?void 0:i.id)||"",files:Z?["".concat(sn.II).concat(null===Z||void 0===Z||null===(t=Z.file)||void 0===t?void 0:t.path)]:[],topic:(null===Z||void 0===Z||null===(o=Z.topic)||void 0===o?void 0:o.id)||""}}),[Z]),z=(0,Fn.cI)({resolver:(0,En.X)(I),defaultValues:O}),P=z.reset,E=z.watch,F=z.setValue,D=z.handleSubmit,R=z.formState.isSubmitting,W=E();(0,c.useEffect)((function(){P(O)}),[P,Z,O]);var q=D(function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(e){var i,t,o,r,l,c,s;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.files.map((function(n){return{file:n.path,filename:n.path,category:{connect:{id:+e.category}},topic:{connect:{id:+e.topic}},bookSeries:{connect:{id:+e.bookSeries}}}})),t=function(n){var e,i,t;return(0,a.Z)((0,a.Z)({},n),{},{name:null===n||void 0===n?void 0:n.filename,subject:null===n||void 0===n||null===(e=n.topic)||void 0===e?void 0:e.subject,grade:null===n||void 0===n||null===(i=n.topic)||void 0===i?void 0:i.grades[0],type:null===n||void 0===n||null===(t=n.category)||void 0===t?void 0:t.name,file:{filename:null===n||void 0===n?void 0:n.filename,path:null===n||void 0===n?void 0:n.file,mime_type:Xn(null===n||void 0===n?void 0:n.file)}})},n.prev=2,g){n.next=26;break}o=(0,Pn.Z)(i),n.prev=5,o.s();case 7:if((r=o.n()).done){n.next=15;break}return l=r.value,n.next=11,Q(l);case 11:c=n.sent,h(t(c));case 13:n.next=7;break;case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(5),o.e(n.t0);case 20:return n.prev=20,o.f(),n.finish(20);case 23:_("\u0110\xe3 th\xeam d\u1eef li\u1ec7u t\xe0i li\u1ec7u m\u1edbi !"),n.next=31;break;case 26:return n.next=28,nn(i,null===Z||void 0===Z?void 0:Z.id);case 28:s=n.sent,m(s),_("\u0110\xe3 c\u1eadp nh\u1eadt d\u1eef li\u1ec7u t\xe0i li\u1ec7u !");case 31:P(),H(),n.next=38;break;case 35:n.prev=35,n.t1=n.catch(2),_("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 38:case"end":return n.stop()}}),n,null,[[2,35],[5,17,20,23]])})));return function(e){return n.apply(this,arguments)}}()),H=function(){j(null),r(),P()},B=(0,c.useCallback)(function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(e){var i,t,o,r;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(null===W||void 0===W?void 0:W.files)||[],o=e.map((function(n){return Object.assign(n,{preview:URL.createObjectURL(n)})})),F("files",[].concat((0,vn.Z)(t),(0,vn.Z)(o)),{shouldValidate:!0}),r=new FormData,null===(i=[].concat((0,vn.Z)(t),(0,vn.Z)(o)))||void 0===i||i.forEach((function(n){r.append("file",n)})),n.next=7,$.Z.course.offline.document.upload(r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[F,null===W||void 0===W?void 0:W.files]),M=function(n,e){var i=(0,a.Z)({},w),t=i[n];i[n]=[].concat((0,vn.Z)(t),[e]),C(i)},A=function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(e){var i,t,o;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return F("topic",""),F("category",""),n.next=4,$.Z.course.offline.subject.findUniq(e);case 4:i=n.sent,t=i.data,(o=(0,a.Z)({},w)).topics=null===t||void 0===t?void 0:t.topics,C(o);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),V=function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(e){var i,t,o;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return F("category",""),n.next=3,$.Z.course.offline.topic.findUniq(e);case 3:i=n.sent,t=i.data,(o=(0,a.Z)({},w)).categories=null===t||void 0===t?void 0:t.categories,C(o);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Wn.Z,{fullWidth:!0,maxWidth:!1,open:o,onClose:H,PaperProps:{sx:{maxWidth:960}},children:(0,L.jsxs)(Mn.ZP,{methods:z,onSubmit:q,children:[(0,L.jsx)(Hn.Z,{children:"Th\xeam t\xe0i li\u1ec7u m\u1edbi"}),(0,L.jsx)(Ln.Z,{children:(0,L.jsxs)(Bn.ZP,{container:!0,spacing:2,children:[(0,L.jsx)(Bn.ZP,{item:!0,xs:12,md:6,children:(0,L.jsxs)(b.Z,{spacing:1,children:[(0,L.jsx)(Mn.jY,{label:"M\xf4n h\u1ecdc :",required:!0,button:(0,L.jsx)(x.Z,{size:"small",color:"primary",onClick:S.onOpen,children:"Th\xeam m\xf4n h\u1ecdc m\u1edbi"}),children:(0,L.jsx)(Mn.Cc,{name:"subject",label:"Ch\u1ecdn m\xf4n h\u1ecdc...",children:null===w||void 0===w||null===(e=w.subjects)||void 0===e?void 0:e.map((function(n){return(0,L.jsx)(In.Z,{value:null===n||void 0===n?void 0:n.id,onClick:function(){return A(null===n||void 0===n?void 0:n.id)},children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})}),(0,L.jsx)(Mn.jY,{label:"Ch\u1ee7 \u0111\u1ec1 t\xe0i li\u1ec7u :",required:!0,button:(0,L.jsx)(x.Z,{size:"small",color:"primary",disabled:!W.subject,onClick:T.onOpen,children:"Th\xeam ch\u1ee7 \u0111\u1ec1 m\u1edbi"}),children:(0,L.jsx)(Mn.Cc,{disabled:!W.subject,name:"topic",label:"Ch\u1ecdn ch\u1ee7 \u0111\u1ec1 t\xe0i li\u1ec7u...",children:null===w||void 0===w||null===(i=w.topics)||void 0===i?void 0:i.map((function(n){return(0,L.jsx)(In.Z,{value:null===n||void 0===n?void 0:n.id,onClick:function(){return V(null===n||void 0===n?void 0:n.id)},children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})}),(0,L.jsx)(Mn.jY,{label:"Danh m\u1ee5c t\xe0i li\u1ec7u :",required:!0,children:(0,L.jsx)(Mn.Cc,{disabled:!W.topic,name:"category",label:"Ch\u1ecdn danh m\u1ee5c t\xe0i li\u1ec7u...",children:null===w||void 0===w||null===(t=w.categories)||void 0===t?void 0:t.map((function(n){return(0,L.jsx)(In.Z,{value:null===n||void 0===n?void 0:n.id,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})}),(0,L.jsx)(Mn.jY,{label:"T\xe0i li\u1ec7u thu\u1ed9c b\u1ed9 s\xe1ch :",required:!0,children:(0,L.jsx)(Mn.Cc,{name:"bookSeries",label:"Ch\u1ecdn b\u1ed9 s\xe1ch...",children:null===s||void 0===s?void 0:s.map((function(n){return(0,L.jsx)(In.Z,{value:null===n||void 0===n?void 0:n.id,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})})]})}),(0,L.jsx)(Bn.ZP,{item:!0,xs:12,md:6,children:(0,L.jsx)(b.Z,{spacing:1,children:(0,L.jsx)(Mn.jY,{label:"T\u1ea3i l\xean t\u1eadp tin cho t\xe0i li\u1ec7u :",required:!0,children:(0,L.jsx)(Mn.rd,{multiple:!0,thumbnail:!0,name:"files",maxSize:1536870912,onDrop:B,onRemove:function(n){var e;return F("files",(null===W||void 0===W?void 0:W.files)&&(null===W||void 0===W||null===(e=W.files)||void 0===e?void 0:e.filter((function(e){return e!==n}))),{shouldValidate:!0})},onRemoveAll:function(){return F("files",[],{shouldValidate:!0})}})})})})]})}),(0,L.jsx)(qn.Z,{children:(0,L.jsxs)(b.Z,{direction:"row",spacing:1,justifyContent:"end",children:[(0,L.jsx)(x.Z,{variant:"outlined",onClick:r,children:"Hu\u1ef7 b\u1ecf"}),(0,L.jsx)(Rn.Z,{type:"submit",color:"primary",variant:"contained",loading:R,children:"Th\xeam t\xe0i li\u1ec7u"})]})})]})}),(0,L.jsx)(Vn,{open:S.open,onClose:S.onClose,setData:M,grades:u}),(0,L.jsx)(Kn,{open:T.open,onClose:T.onClose,subjectId:null===W||void 0===W?void 0:W.subject,subjects:v,categories:p,setData:M})]})}var Un=i(90651),Yn=i(68745),Gn=[{id:"title",label:"Qu\u1ea3n l\xfd t\xe0i li\u1ec7u",flex:1},{id:"book",label:"Thu\u1ed9c b\u1ed9 s\xe1ch",flex:1},{id:"created_at",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updated_at",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"files",label:"Danh s\xe1ch t\u1eadp tin",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],$n=function(n){var e,i,t,o,r,l;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Yn.Z,{children:(0,L.jsx)(Un.O,{primary:"".concat(null===n||void 0===n||null===(e=n.category)||void 0===e?void 0:e.name," ").concat(null===n||void 0===n||null===(i=n.topic)||void 0===i?void 0:i.name),secondary:"".concat(null===n||void 0===n||null===(t=n.subject)||void 0===t?void 0:t.name," kh\u1ed1i l\u1edbp ").concat(null===n||void 0===n||null===(o=n.grade)||void 0===o?void 0:o.label)})}),(0,L.jsx)(Yn.Z,{children:(0,L.jsx)(Un.O,{primary:null===n||void 0===n||null===(r=n.bookSeries)||void 0===r?void 0:r.name,secondary:null===n||void 0===n||null===(l=n.topic)||void 0===l?void 0:l.name})})]})},Qn=function(n){var e;return(0,L.jsx)(b.Z,{component:yn.Z,sx:{m:1.5},children:(0,L.jsx)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(n){return"solid 2px ".concat(n.palette.background.neutral)}}},children:(0,L.jsx)(Un.O,{primary:null===n||void 0===n?void 0:n.filename,secondary:null===n||void 0===n||null===(e=n.file)||void 0===e?void 0:e.mime_type})})})},Jn=i(57621),ne=i(68051),ee=i(74825),ie=i(63065),te=i(25256),oe=i(76278),re=i(57064),le=i(49900),ae=i(34663),ce=i(18197);function se(n){var e,i,t,r,a,s,u,d,v=n.document,p=(0,c.useState)(),f=(0,l.Z)(p,2),h=f[0],Z=f[1],j=(0,c.useState)(0),g=(0,l.Z)(j,2),y=g[0],k=g[1],w=(0,cn.k)(),C=(0,cn.k)(),T=(0,o.tv)(),I=null===v||void 0===v||null===(e=v.files)||void 0===e||null===(i=e.filter((function(n){var e;return null===n||void 0===n||null===(e=n.mime_type)||void 0===e?void 0:e.includes("image")})))||void 0===i?void 0:i.map((function(n){return{type:"image",src:"".concat(sn.II).concat(null===n||void 0===n?void 0:n.path),title:null===n||void 0===n?void 0:n.filename,description:null===v||void 0===v?void 0:v.content}})),O=null===v||void 0===v||null===(t=v.files)||void 0===t||null===(r=t.filter((function(n){var e;return null===n||void 0===n||null===(e=n.mime_type)||void 0===e?void 0:e.includes("video")})))||void 0===r?void 0:r.map((function(n){return{title:null===n||void 0===n?void 0:n.filename,type:"video",width:1280,height:720,autoPlay:!0,controlsList:"nodownload",sources:[{src:"".concat(sn.II).concat(null===n||void 0===n?void 0:n.path),type:"video/mp4"}]}})),z=null===v||void 0===v||null===(a=v.files)||void 0===a||null===(s=a.filter((function(n){var e,i;return!(null!==n&&void 0!==n&&null!==(e=n.mime_type)&&void 0!==e&&e.includes("image"))&&!(null!==n&&void 0!==n&&null!==(i=n.mime_type)&&void 0!==i&&i.includes("video"))})))||void 0===s?void 0:s.map((function(n){return{src:"".concat(sn.II).concat(null===n||void 0===n?void 0:n.path),filename:null===n||void 0===n?void 0:n.filename,mime_type:null===n||void 0===n?void 0:n.mine_type,title:null===v||void 0===v?void 0:v.title,description:null===v||void 0===v?void 0:v.content}})),P=null===I||void 0===I?void 0:I.concat(O),E=S(P),F=function(n,e){k(y+1);var i=null===n||void 0===n?void 0:n.split("/"),t=i[i.length-1];T.push(an.H.home.library.file("".concat(e,":").concat(t,"&clicked=").concat(y)))},D=(0,c.useState)(0),R=(0,l.Z)(D,2),W=R[0],q=R[1],H=function(n){window.open(n)},B=(0,o.UO)().id,M=null===B||void 0===B||null===(u=B.replace("source:",""))||void 0===u?void 0:u.replace("&open=true","").replace("file:","").replace(/(\?|&)clicked=\d+/g,""),V=null===v||void 0===v||null===(d=v.files)||void 0===d?void 0:d.map((function(n){return null===n||void 0===n?void 0:n.path})),K=function(){w.onFalse(),T.push(an.H.home.library.root)};return setTimeout((function(){null!==V&&void 0!==V&&V.includes(M)?w.onTrue():B&&w.onFalse()}),100),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{spacing:.5,direction:"row",children:(0,L.jsx)(x.Z,{variant:"contained",color:"info",size:"small",onClick:w.onTrue,startIcon:(0,L.jsx)(_.Z,{icon:"bxs:file"}),children:"T\u1eadp tin t\xe0i li\u1ec7u"})}),(0,L.jsx)(A,{open:E.open,close:E.onClose,slides:null===P||void 0===P?void 0:P.slice(W,W+1),index:E.selected,disabledCaptions:!0,disabledThumbnails:!0}),(0,L.jsx)(fn.ZP,{open:w.value,onClose:K,anchor:"right",children:(0,L.jsxs)(b.Z,{spacing:2,width:620,p:3,children:[(0,L.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,L.jsx)(Zn.Z,{variant:"subtitle2",children:"Danh s\xe1ch c\xe1c t\u1eadp tin :"}),(0,L.jsx)(xn.Z,{onClick:K,children:(0,L.jsx)(_.Z,{icon:"mdi:close-thick"})})]}),(0,L.jsx)(hn.Z,{sx:{borderStyle:"dashed"}}),(0,L.jsxs)(m.Z,{children:[null===P||void 0===P?void 0:P.map((function(n,e){return(0,L.jsxs)(oe.Z,{sx:{borderRadius:1},children:[(0,L.jsx)(le.Z,{children:(0,L.jsx)(m.Z,{sx:{cursor:"pointer"},children:(0,L.jsx)(Un.O,{primary:null===n||void 0===n?void 0:n.title,secondary:(null===n||void 0===n?void 0:n.type)||"T\u1eadp tin t\xe0i li\u1ec7u"})})}),(0,L.jsx)(re.Z,{children:(0,L.jsx)(b.Z,{direction:"row",spacing:1,children:(0,L.jsx)(x.Z,{variant:"contained",size:"small",color:"info",onClick:function(){return function(n,e){var i,t,o,r,l,a;q(n),E.onOpen((null===(i=P[0])||void 0===i||null===(t=i.sources)||void 0===t?void 0:t.src)||(null===(o=P[0])||void 0===o?void 0:o.src)),!sn.xn&&null!==v&&void 0!==v&&v.isExcel&&F("image"===e?null===(r=P[n])||void 0===r?void 0:r.src:null===(l=P[n])||void 0===l||null===(a=l.sources[0])||void 0===a?void 0:a.src,"source")}(e,null===n||void 0===n?void 0:n.type)},startIcon:(0,L.jsx)(_.Z,{icon:"clarity:picture-solid"}),children:"Xem"})})})]},e)})),null===z||void 0===z?void 0:z.map((function(n,e){return(0,L.jsxs)(oe.Z,{sx:{borderRadius:1},children:[(0,L.jsx)(le.Z,{children:(0,L.jsx)(m.Z,{sx:{cursor:"pointer"},children:(0,L.jsx)(Un.O,{primary:null===n||void 0===n?void 0:n.filename,secondary:(null===n||void 0===n?void 0:n.mime_type)||"T\u1eadp tin t\xe0i li\u1ec7u"})})}),(0,L.jsx)(re.Z,{children:(0,L.jsxs)(b.Z,{direction:"row",spacing:1,children:[(0,L.jsx)(x.Z,{variant:"contained",size:"small",color:"info",onClick:function(){return function(n){sn.xn?(Z(n),C.onTrue()):F(null===n||void 0===n?void 0:n.src,"file")}(n)},startIcon:(0,L.jsx)(_.Z,{icon:"ri:file-2-fill"}),children:"Xem file"}),(0,L.jsx)(x.Z,{variant:"contained",size:"small",onClick:function(){return H(null===n||void 0===n?void 0:n.src)},startIcon:(0,L.jsx)(_.Z,{icon:"line-md:download-loop"}),children:"T\u1ea3i xu\u1ed1ng"})]})})]},e)}))]})]})}),(0,L.jsxs)(Wn.Z,{fullScreen:!0,open:C.value,onClose:C.onFalse,sx:{zIndex:99999999},children:[(0,L.jsx)(te.Z,{sx:{position:"relative"},children:(0,L.jsxs)(ae.Z,{children:[(0,L.jsx)(xn.Z,{edge:"start",color:"inherit",onClick:C.onFalse,"aria-label":"close",children:(0,L.jsx)(_.Z,{icon:"ep:close-bold"})}),(0,L.jsx)(Zn.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:null===h||void 0===h?void 0:h.title}),(0,L.jsx)(x.Z,{variant:"contained",size:"small",onClick:function(){return H(null===h||void 0===h?void 0:h.src)},startIcon:(0,L.jsx)(_.Z,{icon:"line-md:download-loop"}),children:"T\u1ea3i xu\u1ed1ng"})]})}),(0,L.jsx)(ce.ZP,{documents:[{uri:null===h||void 0===h?void 0:h.src}],pluginRenderers:ce.lX})]})]})}function ue(n){var e,i,t,o,r,l,a,c=n.document,s=(0,ln.nt)().t,u=(0,ne.F)("up","md"),d=1===(null===c||void 0===c||null===(e=c.bookSeries)||void 0===e?void 0:e.length)?null===c||void 0===c||null===(i=c.bookSeries[0])||void 0===i?void 0:i.name:"D\xf9ng chung";return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(Jn.Z,{children:(0,L.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",children:[(0,L.jsxs)(b.Z,{sx:{p:function(n){return n.spacing(3,3,2,3)},width:"100%"},children:[(0,L.jsxs)(b.Z,{spacing:.3,flexGrow:1,children:[(0,L.jsx)(ie.Z,{variant:"h6",line:2,children:null===c||void 0===c||null===(t=c.category)||void 0===t?void 0:t.name}),(0,L.jsxs)(ie.Z,{variant:"caption",line:2,sx:{color:"text.secondary"},children:["M\xf4n h\u1ecdc : ","".concat((null===c||void 0===c||null===(o=c.subject)||void 0===o?void 0:o.name)||"Kh\xf4ng")]}),(0,L.jsxs)(ie.Z,{variant:"caption",sx:{color:"text.secondary"},children:["Ch\u1ee7 \u0111\u1ec1 : ",(null===c||void 0===c||null===(r=c.topic)||void 0===r?void 0:r.name)||"Ch\u1ee7 \u0111\u1ec1 chung"]})]}),(0,L.jsxs)(b.Z,{spacing:1,children:[(0,L.jsx)(se,{document:c}),(0,L.jsx)(b.Z,{spacing:1.5,direction:"row",sx:{typography:"caption",color:"text.disabled"},children:(0,L.jsxs)(b.Z,{direction:"row",alignItems:"center",children:[(0,L.jsx)(_.Z,{icon:"solar:document-bold",width:14,sx:{mr:.5}}),(null===c||void 0===c||null===(l=c.files)||void 0===l?void 0:l.length)||0," ",s("t\u1eadp tin trong t\xe0i li\u1ec7u")]})})]})]}),u&&(0,L.jsx)(m.Z,{sx:{width:260,height:260,position:"relative",flexShrink:0,p:1},children:(0,L.jsx)(ee.Z,{alt:null===c||void 0===c?void 0:c.title,src:"/assets/images/category/".concat(d||"D\xf9ng chung","_").concat((null===c||void 0===c||null===(a=c.category)||void 0===a?void 0:a.name)||"B\u1ed9 \u0111\u1ec1",".png"),sx:{height:1,borderRadius:1.5},ratio:"1/1"})})]})})})}function de(n){var e,i=n.documents,t=n.isExcel,o={};return null===i||void 0===i||i.forEach((function(n){var e,i,t,r,l,a,c,s,u,d,v,p,f,h,m,x;o["".concat(null===n||void 0===n||null===(e=n.subject)||void 0===e?void 0:e.name,"-").concat(null===n||void 0===n||null===(i=n.grade)||void 0===i?void 0:i.label,"-").concat(null===n||void 0===n||null===(t=n.category)||void 0===t?void 0:t.name,"-").concat(null===n||void 0===n||null===(r=n.topic)||void 0===r?void 0:r.name)]||(o["".concat(null===n||void 0===n||null===(f=n.subject)||void 0===f?void 0:f.name,"-").concat(null===n||void 0===n||null===(h=n.grade)||void 0===h?void 0:h.label,"-").concat(null===n||void 0===n||null===(m=n.category)||void 0===m?void 0:m.name,"-").concat(null===n||void 0===n||null===(x=n.topic)||void 0===x?void 0:x.name)]={id:n.id,bookSeries:null===n||void 0===n?void 0:n.bookSeries,subject:null===n||void 0===n?void 0:n.subject,category:null===n||void 0===n?void 0:n.category,grade:null===n||void 0===n?void 0:n.grade,topic:null===n||void 0===n?void 0:n.topic,books:[],files:[]});o["".concat(null===n||void 0===n||null===(l=n.subject)||void 0===l?void 0:l.name,"-").concat(null===n||void 0===n||null===(a=n.grade)||void 0===a?void 0:a.label,"-").concat(null===n||void 0===n||null===(c=n.category)||void 0===c?void 0:c.name,"-").concat(null===n||void 0===n||null===(s=n.topic)||void 0===s?void 0:s.name)].files.push(null===n||void 0===n?void 0:n.file),o["".concat(null===n||void 0===n||null===(u=n.subject)||void 0===u?void 0:u.name,"-").concat(null===n||void 0===n||null===(d=n.grade)||void 0===d?void 0:d.label,"-").concat(null===n||void 0===n||null===(v=n.category)||void 0===v?void 0:v.name,"-").concat(null===n||void 0===n||null===(p=n.topic)||void 0===p?void 0:p.name)].books.push(null===n||void 0===n?void 0:n.bookSeries)})),null===(e=Object.values(o))||void 0===e?void 0:e.map((function(n){return(0,a.Z)((0,a.Z)({},n),{},{createdAt:new Date,updatedAt:new Date,files:n.files,bookSeries:n.books,isExcel:t})}))}var ve=i(34045);function pe(){var n=function(){var n=(0,c.useState)([]),e=(0,l.Z)(n,2),i=e[0],t=e[1],o=new XMLHttpRequest;return o.open("GET","/assets/import/import.xlsx",!0),o.responseType="arraybuffer",o.onload=function(n){var e=o.response,i=new Uint8Array(e),r=ve.ij(i,{type:"array"}),l=r.SheetNames[0],a=r.Sheets[l],c=ve.P6.sheet_to_json(a);t(c)},i.length||o.send(),i}(),e=(0,rn.ZP)().data,i=(0,U.ZP)().data,t=(0,on.ZP)().data,o=(0,N.ZP)().data,r=(0,X.ZP)().data,a=null===n||void 0===n?void 0:n.map((function(n,l){return{id:"excel".concat(l+1),subject:(null===t||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.name)===(null===n||void 0===n?void 0:n["M\xf4n"])}))[0])||null,grade:(null===i||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e.label)===(null===n||void 0===n?void 0:n["Kh\u1ed1i l\u1edbp"])}))[0])||null,topic:(null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.name)===(null===n||void 0===n?void 0:n["Ch\u1ee7 \u0111\u1ec1"])}))[0])||null,category:(null===o||void 0===o?void 0:o.filter((function(e){return(null===e||void 0===e?void 0:e.name)===(null===n||void 0===n?void 0:n["Danh m\u1ee5c"])}))[0])||null,bookSeries:(null===r||void 0===r?void 0:r.filter((function(e){return(null===e||void 0===e?void 0:e.name)===(null===n||void 0===n?void 0:n["S\xe1ch"])}))[0])||null,file:{filename:null===n||void 0===n?void 0:n["T\xean hi\u1ec3n th\u1ecb file"],mime_type:Xn(null===n||void 0===n?void 0:n["T\xean file"]),path:null===n||void 0===n?void 0:n["T\xean file"]},createdAt:new Date,updatedAt:new Date}}));return{data:a}}var fe={search:"",books:[],grades:[],subjects:[],topics:[],category:[],type:"T\u1ea5t c\u1ea3 t\xe0i li\u1ec7u"},he=[{value:"M\u1edbi c\u1eadp nh\u1eadt g\u1ea7n \u0111\xe2y",label:"M\u1edbi c\u1eadp nh\u1eadt g\u1ea7n \u0111\xe2y"},{value:"B\u1ea3n c\u1eadp nh\u1eadt c\u0169 nh\u1ea5t",label:"B\u1ea3n c\u1eadp nh\u1eadt c\u0169 nh\u1ea5t"},{value:"Nhi\u1ec1u t\u1eadp tin nh\u1ea5t",label:"Nhi\u1ec1u t\u1eadp tin nh\u1ea5t"},{value:"\xcdt t\u1eadp tin nh\u1ea5t",label:"\xcdt t\u1eadp tin nh\u1ea5t"}];function me(){var n,e=(0,tn.ZP)().data,i=(0,U.ZP)().data,t=(0,on.ZP)().data,s=(0,rn.ZP)().data,d=(0,N.ZP)().data,v=function(){var n=(0,c.useState)({}),e=(0,l.Z)(n,2),i=e[0],t=e[1];return(0,c.useEffect)((function(){var n=function(){var n=(0,G.Z)((0,Y.Z)().mark((function n(){var e;return(0,Y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.Z.course.offline.document.findMany({});case 2:(e=n.sent)&&t(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),i}(),p=v.data,T=(0,X.ZP)().data,I=pe().data,O=(0,un.S)(),z=O._table_data,P=O._table_open_form,E=O.onSetOpenForm,F=O.onSetTableData,D=O.onSetTableHeader,R=O.onSetTableRows,W=O.onSetTableRowCollapse,q=O.onSetConfigTable;(0,c.useEffect)((function(){F(null===p||void 0===p?void 0:p.map((function(n){var e,i,t;return(0,a.Z)((0,a.Z)({},n),{},{name:null===n||void 0===n?void 0:n.category,subject:null===n||void 0===n||null===(e=n.topic)||void 0===e?void 0:e.subject,grade:null===n||void 0===n||null===(i=n.topic)||void 0===i?void 0:i.grades[0],type:null===n||void 0===n||null===(t=n.category)||void 0===t?void 0:t.name,file:{filename:null===n||void 0===n?void 0:n.filename,path:null===n||void 0===n?void 0:n.file,mime_type:Xn(null===n||void 0===n?void 0:n.file)}})}))),q({table_name:"document",add_new:!1,filter_by_date:!0,filter_by_type:!0,filter_by_search:!0,import_data:!1,export_data:!1,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),D(Gn),R($n),W(Qn)}),[p]);var H=(0,ln.nt)().t,B=(0,o.tv)(),M=(0,cn.k)(),V=(0,c.useState)("list"),K=(0,l.Z)(V,2),Q=K[0],J=K[1],nn=(0,c.useState)("M\u1edbi c\u1eadp nh\u1eadt"),en=(0,l.Z)(nn,2),vn=en[0],pn=en[1],fn=(0,c.useState)(fe),hn=(0,l.Z)(fn,2),mn=hn[0],xn=hn[1],Zn=de({documents:I,isExcel:!0}),bn=de({documents:z}),jn=xe({inputData:f()(Zn,bn),filters:mn,sortBy:vn}),yn=!u()(fe,mn),kn=!(null!==jn&&void 0!==jn&&jn.length),wn=(0,c.useCallback)((function(n){pn(n)}),[]),_n=(0,c.useCallback)((function(n,e){xn((function(i){return(0,a.Z)((0,a.Z)({},i),{},(0,r.Z)({},n,e))}))}),[]),Sn=(0,c.useCallback)((function(){xn(fe)}),[]),In=(0,c.useCallback)((function(n){_n("search",n.target.value)}),[_n]),On=(0,c.useCallback)((function(n){_n("topics",[]),_n("subjects",n)}),[_n]),Pn=(0,c.useCallback)((function(n){_n("topics",n)}),[_n]),En=(0,c.useCallback)((function(n){_n("grades",n)}),[_n]),Fn=null===s||void 0===s?void 0:s.filter((function(n){var e,i;return null===mn||void 0===mn||null===(e=mn.subjects)||void 0===e?void 0:e.includes(null===n||void 0===n||null===(i=n.subject)||void 0===i?void 0:i.name)})),Dn=(0,o.UO)().id,Rn=null===Dn||void 0===Dn||null===(n=Dn.replace("source:",""))||void 0===n?void 0:n.replace("&open=true",""),Wn=[{type:"image",src:"".concat(sn.II,"/").concat(Rn),title:"H\xecnh \u1ea3nh",description:"H\xecnh \u1ea3nh"}],qn=[{title:"Video",type:"video",width:1280,height:720,autoPlay:!0,controlsList:"nodownload",sources:[{src:"".concat(sn.II,"/").concat(Rn),type:"video/mp4"}]}],Ln=(null===Rn||void 0===Rn?void 0:Rn.includes(".mp4"))||(null===Rn||void 0===Rn?void 0:Rn.includes(".mov"))||(null===Rn||void 0===Rn?void 0:Rn.includes(".avi"))?qn:Wn,Hn=S(Ln);(0,c.useEffect)((function(){var n,e,i;null!==Dn&&void 0!==Dn&&Dn.includes("&open=true")&&Hn.onOpen((null===(n=Ln[0])||void 0===n||null===(e=n.sources)||void 0===e?void 0:e.src)||(null===(i=Ln[0])||void 0===i?void 0:i.src))}),[Dn,Ln,Hn]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(A,{open:Hn.open,close:function(){Hn.onClose(),B.push(an.H.home.library.root)},slides:Ln,index:Hn.selected,disabledCaptions:!0,disabledThumbnails:!0}),(0,L.jsx)(w.Z,{heading:H("Th\u01b0 vi\u1ec7n c\u1ee7a t\xf4i"),links:[{name:H("Danh m\u1ee5c")},{name:H("Th\u01b0 vi\u1ec7n"),href:an.H.home.library.root},{name:H("Danh s\xe1ch")}],sx:{mb:{xs:3,md:5}}}),(0,L.jsxs)(b.Z,{direction:"row",spacing:2,sx:{px:3,py:1,display:"list"===Q?"default":"none"},children:[t&&(0,L.jsx)(h.Z,{multiple:!0,size:"small",limitTags:1,sx:{minWidth:320},options:null===t||void 0===t?void 0:t.map((function(n){return"".concat(null===n||void 0===n?void 0:n.name)})),getOptionLabel:function(n){return n},value:null===mn||void 0===mn?void 0:mn.subjects,onChange:function(n,e){return On(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn m\xf4n h\u1ecdc..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}}),i&&(0,L.jsx)(h.Z,{disabled:!mn.subjects.length,size:"small",multiple:!0,limitTags:1,sx:{minWidth:320},options:null===i||void 0===i?void 0:i.map((function(n){return"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)})),getOptionLabel:function(n){return n},value:mn.grades,onChange:function(n,e){return En(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn kh\u1ed1i l\u1edbp..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}}),Fn&&(0,L.jsx)(h.Z,{disabled:!mn.subjects.length&&!mn.grades.length,size:"small",multiple:!0,limitTags:1,sx:{minWidth:320},options:null===Fn||void 0===Fn?void 0:Fn.map((function(n){return null===n||void 0===n?void 0:n.name})),getOptionLabel:function(n){return n},value:mn.topics,onChange:function(n,e){return Pn(e)},renderInput:function(n){return(0,L.jsx)(j.Z,(0,a.Z)({placeholder:"Ch\u1ecdn ch\u1ee7 \u0111\u1ec1..."},n))},renderOption:function(n,e){return(0,c.createElement)("li",(0,a.Z)((0,a.Z)({},n),{},{key:e}),e)},renderTags:function(n,e){return n.map((function(n,i){return(0,c.createElement)(Z.Z,(0,a.Z)((0,a.Z)({},e({index:i})),{},{key:n,label:n,size:"small",variant:"soft"}))}))}})]}),(0,L.jsxs)(b.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},sx:{mx:3,mb:3},children:[(0,L.jsxs)(b.Z,{direction:"row",spacing:1,sx:{width:"50%"},children:[(0,L.jsx)(Tn,{value:mn.search,onChange:In}),(0,L.jsx)(x.Z,{variant:"contained",color:"primary",startIcon:(0,L.jsx)(_.Z,{icon:"material-symbols:cloud-upload"}),onClick:function(){return E(!0)},children:"Upload t\xe0i li\u1ec7u"})]}),(0,L.jsxs)(b.Z,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{width:"50%"},children:[(0,L.jsx)(gn,{open:M.value,onOpen:M.onTrue,onClose:M.onFalse,filters:mn,onFilters:_n,canReset:yn,onResetFilters:Sn,topicsOptions:null===Fn||void 0===Fn?void 0:Fn.map((function(n){return null===n||void 0===n?void 0:n.name})),bookOptions:null===T||void 0===T?void 0:T.map((function(n){return null===n||void 0===n?void 0:n.name})),gradeOptions:null===i||void 0===i?void 0:i.map((function(n){return"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label)})),subjectOptions:null===t||void 0===t?void 0:t.map((function(n){return"".concat(null===n||void 0===n?void 0:n.name)})),categoryOptions:null===d||void 0===d?void 0:d.map((function(n){return null===n||void 0===n?void 0:n.name}))}),(0,L.jsx)(zn,{sort:vn,onSort:wn,sortOptions:he}),(0,L.jsxs)(y.Z,{exclusive:!0,size:"small",color:"primary",value:Q,onChange:function(n,e){null!==e&&J(e)},children:[(0,L.jsx)(g.Z,{value:"list",children:(0,L.jsx)(k.Z,{title:"Danh s\xe1ch",children:(0,L.jsx)(_.Z,{icon:"eva:grid-fill"})})}),(0,L.jsx)(g.Z,{value:"table",children:(0,L.jsx)(k.Z,{title:"D\u1ea1ng b\u1ea3ng",children:(0,L.jsx)(_.Z,{icon:"eva:list-fill"})})})]})]})]}),yn&&(0,L.jsx)(Cn,{filters:mn,onResetFilters:Sn,canReset:yn,onFilters:_n,results:null===jn||void 0===jn?void 0:jn.length}),"list"===Q?(0,L.jsx)(m.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mx:3},children:null===jn||void 0===jn?void 0:jn.map((function(n){return(0,L.jsx)(ue,{document:n},null===n||void 0===n?void 0:n.id)}))}):(0,L.jsx)(dn.Z,{}),kn&&(0,L.jsx)(C.Z,{filled:!0,title:"Kh\xf4ng t\xecm th\u1ea5y t\xe0i li\u1ec7u",sx:{py:10}}),(0,L.jsx)(Nn,{open:P,onClose:function(){return E(!1)},books:T,schools:e,grades:i,subjects:t,categories:d})]})}var xe=function(n){var e,i=n.inputData,t=n.filters,o=n.sortBy;t.search&&(i=null===(e=i)||void 0===e?void 0:e.filter((function(n){var e,i;return-1!==(null===n||void 0===n||null===(e=n.category)||void 0===e||null===(i=e.name)||void 0===i?void 0:i.toLowerCase().indexOf(t.search.toLowerCase()))})));return t.subjects.length&&(i=i.filter((function(n){var e;return t.subjects.includes(null===n||void 0===n||null===(e=n.subject)||void 0===e?void 0:e.name)}))),t.grades.length&&(i=i.filter((function(n){var e;return t.grades.includes("Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n||null===(e=n.grade)||void 0===e?void 0:e.label))}))),t.topics.length&&(i=i.filter((function(n){var e;return t.topics.includes(null===n||void 0===n||null===(e=n.topic)||void 0===e?void 0:e.name)}))),t.books.length&&(i=i.filter((function(n){var e;return null===n||void 0===n||null===(e=n.bookSeries)||void 0===e?void 0:e.some((function(n){return t.books.includes(null===n||void 0===n?void 0:n.name)}))}))),t.category.length&&(i=i.filter((function(n){var e;return t.category.includes(null===n||void 0===n||null===(e=n.category)||void 0===e?void 0:e.name)}))),"M\u1edbi c\u1eadp nh\u1eadt g\u1ea7n \u0111\xe2y"===o&&(i=v()(i,["created_at"],["desc"])),"B\u1ea3n c\u1eadp nh\u1eadt c\u0169 nh\u1ea5t"===o&&(i=v()(i,["created_at"],["asc"])),"Nhi\u1ec1u t\u1eadp tin nh\u1ea5t"===o&&(i=v()(i,["files.length"],["desc"])),"\xcdt t\u1eadp tin nh\u1ea5t"===o&&(i=v()(i,["files.length"],["asc"])),i};function Ze(){var n=(0,o.UO)().port;return/^[0-9]+$/.test(n)&&(localStorage.setItem("REACT_APP_LOCAL_HOST_API","http://localhost:".concat(n)),localStorage.setItem("REACT_APP_LOCAL_IMAGE_HOST_API","http://localhost:".concat(n,"/uploads/"))),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(t.ql,{children:(0,L.jsx)("title",{children:" Th\u01b0 vi\u1ec7n "})}),(0,L.jsx)(me,{})]})}},14601:function(){},32767:function(){},28251:function(){},57677:function(){},1543:function(){},87324:function(){}}]);
//# sourceMappingURL=566.68ddbf99.chunk.js.map