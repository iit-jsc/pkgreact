"use strict";(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[815],{55164:function(n,e,t){t.d(e,{LX:function(){return d},ZP:function(){return c},q$:function(){return u}});var r=t(74165),i=t(15861),a=t(29439),o=t(72791),l=t(12803);function c(){var n=(0,o.useState)({}),e=(0,a.Z)(n,2),t=e[0],c=e[1];return(0,o.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.grade.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function u(n){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.grade.create(e);case 2:return t=n.sent,i=t.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.grade.update(t,e);case 2:return i=n.sent,a=i.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},64639:function(n,e,t){t.d(e,{TX:function(){return u},ZP:function(){return c},cy:function(){return d}});var r=t(74165),i=t(15861),a=t(29439),o=t(72791),l=t(12803);function c(){var n=(0,o.useState)({}),e=(0,a.Z)(n,2),t=e[0],c=e[1];return(0,o.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.school.findMany({});case 2:(e=n.sent)&&c(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),t}function u(n){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function n(e){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.school.create(e);case 2:return t=n.sent,i=t.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n,e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.course.offline.school.update(t,e);case 2:return i=n.sent,a=i.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},90651:function(n,e,t){t.d(e,{O:function(){return u}});var r=t(1413),i=t(53767),a=t(49900),o=t(54852),l=t(63065),c=t(80184);function u(n){var e=n.primary,t=n.secondary,u=n.alt,s=n.src,d=n.sx;return(0,c.jsxs)(i.Z,{direction:"row",spacing:1,alignItems:"center",sx:(0,r.Z)({},d),children:[s&&(0,c.jsx)(o.Z,{alt:u,src:s,variant:"rounded"}),(0,c.jsx)(a.Z,{primary:(0,c.jsx)(l.Z,{variant:"body2",line:1,children:e||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."}),secondary:(0,c.jsx)(l.Z,{variant:"caption",color:"text.disabled",line:1,children:t||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})||"Kh\xf4ng x\xe1c \u0111\u1ecbnh..."})]})}},63065:function(n,e,t){t.d(e,{Z:function(){return h}});var r=t(1413),i=t(45987),a=t(72791),o=t(50533),l=t(4567),c=t(13967),u=t(68051);function s(n){var e,t=(0,c.Z)(),r=(0,u.z)(),i=t.breakpoints.up("xl"===r?"lg":r),a=("h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n)&&t.typography[n][i]?t.typography[n][i]:t.typography[n],o=(e=a.fontSize,Math.round(16*parseFloat(e))),l=Number(t.typography[n].lineHeight)*o,s=t.typography[n];return{fontSize:o,lineHeight:l,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing}}var d=t(80184),p=["asLink","variant","line","persistent","children","sx"],h=(0,a.forwardRef)((function(n,e){var t=n.asLink,a=n.variant,c=void 0===a?"body1":a,u=n.line,h=void 0===u?2:u,f=n.persistent,v=void 0!==f&&f,x=n.children,m=n.sx,Z=(0,i.Z)(n,p),b=s(c).lineHeight,g=(0,r.Z)((0,r.Z)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:h,WebkitBoxOrient:"vertical"},v&&{height:b*h}),m);return t?(0,d.jsx)(o.Z,(0,r.Z)((0,r.Z)({color:"inherit",ref:e,variant:c,sx:(0,r.Z)({},g)},Z),{},{children:x})):(0,d.jsx)(l.Z,(0,r.Z)((0,r.Z)({ref:e,variant:c,sx:(0,r.Z)({},g)},Z),{},{children:x}))}))},74574:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var r=t(6907),i=t(72791),a=t(54406),o=t(55164),l=t(64639),c=t(7055),u=t(34055),s=t(65478),d=t(244),p=t(74165),h=t(1413),f=t(15861),v=t(44695),x=t(61134),m=t(8007),Z=t(46002),b=t(30439),g=t(5574),y=t(97123),j=t(39157),_=t(65661),k=t(61889),w=t(82626),S=t(53767),C=t(72369),T=t(11857),P=t(80184);function q(n){var e=n.open,t=n.onClose,r=n.schools,a=(0,d.S)(),l=a._table_row_selected,c=a.onSetTableRowSelected,u=a.onCreateNewRow,s=a.onUpdateRow,q=!!l,K=(0,T.Ds)().enqueueSnackbar,M=m.Ry().shape({label:m.Z_().required("B\u1ea1n ch\u01b0a nh\u1eadp t\xean kh\u1ed1i l\u1edbp !"),school:m.Z_().required("B\u1ea1n ch\u01b0a ch\u1ecdn tr\u01b0\u1eddng h\u1ecdc !"),description:m.nK()}),H=(0,i.useMemo)((function(){var n;return{label:(null===l||void 0===l?void 0:l.label)||"",school:(null===l||void 0===l||null===(n=l.school)||void 0===n?void 0:n.id)||"",description:(null===l||void 0===l?void 0:l.description)||""}}),[l]),N=(0,x.cI)({resolver:(0,v.X)(M),defaultValues:H}),R=N.reset,W=N.handleSubmit,D=N.formState.isSubmitting;(0,i.useEffect)((function(){R(H)}),[R,l,H]);var E=W(function(){var n=(0,f.Z)((0,p.Z)().mark((function n(e){var t,r,i;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=(0,h.Z)((0,h.Z)({},e),{},{label:+e.label,school:{connect:{id:+e.school}}}),n.prev=1,q){n.next=10;break}return n.next=5,(0,o.q$)(t);case 5:r=n.sent,u(r),K("\u0110\xe3 th\xeam d\u1eef li\u1ec7u kh\u1ed1i l\u1edbp m\u1edbi !"),n.next=15;break;case 10:return n.next=12,(0,o.LX)(t,l.id);case 12:i=n.sent,s(i),K("\u0110\xe3 c\u1eadp nh\u1eadt kh\u1ed1i l\u1edbp ".concat(t.label," !"));case 15:R(),L(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(1),K((null===n.t0||void 0===n.t0?void 0:n.t0.msg)||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra ! Vui l\xf2ng th\u1eed l\u1ea1i !",{variant:"error"});case 22:case"end":return n.stop()}}),n,null,[[1,19]])})));return function(e){return n.apply(this,arguments)}}()),L=function(){c(null),t()};return(0,P.jsx)(g.Z,{fullWidth:!0,maxWidth:!1,open:e,onClose:L,PaperProps:{sx:{maxWidth:720}},children:(0,P.jsxs)(C.ZP,{methods:N,onSubmit:E,children:[(0,P.jsx)(_.Z,{children:q?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u kh\u1ed1i l\u1edbp ".concat(null===l||void 0===l?void 0:l.label):"Th\xeam d\u1eef li\u1ec7u kh\u1ed1i l\u1edbp m\u1edbi"}),(0,P.jsx)(j.Z,{children:(0,P.jsx)(k.ZP,{container:!0,spacing:2,children:(0,P.jsx)(k.ZP,{item:!0,xs:12,children:(0,P.jsxs)(S.Z,{spacing:2,children:[(0,P.jsx)(C.jY,{label:"Kh\u1ed1i l\u1edbp :",required:!0,children:(0,P.jsx)(C.au,{name:"label",label:"Kh\u1ed1i l\u1edbp...",type:"number"})}),(0,P.jsx)(C.jY,{label:"Ch\u1ecdn tr\u01b0\u1eddng h\u1ecdc :",required:!0,children:(0,P.jsx)(C.Cc,{name:"school",label:"Ch\u1ecdn tr\u01b0\u1eddng h\u1ecdc",children:null===r||void 0===r?void 0:r.map((function(n){return(0,P.jsx)(w.Z,{value:null===n||void 0===n?void 0:n.id,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})}),(0,P.jsx)(C.jY,{label:"M\xf4 t\u1ea3 :",children:(0,P.jsx)(C.au,{multiline:!0,rows:2,name:"description",label:"Nh\u1eadp m\xf4 t\u1ea3..."})})]})})})}),(0,P.jsxs)(y.Z,{children:[(0,P.jsx)(b.Z,{variant:"outlined",onClick:L,children:"Hu\u1ef7 b\u1ecf"}),(0,P.jsx)(Z.Z,{type:"submit",color:"primary",variant:"contained",loading:D,children:q?"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u":"Th\xeam d\u1eef li\u1ec7u m\u1edbi"})]})]})})}var K=t(27938),M=t(68745),H=t(90651),N=[{id:"name",label:"T\xean kh\u1ed1i l\u1edbp",flex:1},{id:"createdAt",label:"Ng\xe0y t\u1ea1o",flex:1,align:"center"},{id:"updatedAt",label:"Ng\xe0y c\u1eadp nh\u1eadt",flex:1,align:"center"},{id:"subjects",label:"Danh s\xe1ch m\xf4n",flex:1,align:"center"},{id:"action",label:"H\xe0nh \u0111\u1ed9ng",flex:1,align:"right"}],R=function(n){return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(M.Z,{children:(0,P.jsx)(H.O,{primary:"Kh\u1ed1i l\u1edbp ".concat(null===n||void 0===n?void 0:n.label),secondary:null===n||void 0===n?void 0:n.description})})})},W=function(n){var e;return(0,P.jsx)(S.Z,{component:K.Z,sx:{m:1.5},children:null===n||void 0===n||null===(e=n.subjects)||void 0===e?void 0:e.map((function(n){return(0,P.jsx)(S.Z,{direction:"row",alignItems:"center",sx:{p:1,"&:not(:last-of-type)":{borderBottom:function(n){return"solid 2px ".concat(n.palette.background.neutral)}}},children:(0,P.jsx)(H.O,{primary:null===n||void 0===n?void 0:n.name,secondary:null===n||void 0===n?void 0:n.description})},null===n||void 0===n?void 0:n.id)}))})};function D(){var n=(0,d.S)(),e=n._table_data,t=n._table_open_form,r=n.onSetOpenForm,p=n.onSetTableData,h=n.onSetTableHeader,f=n.onSetTableRows,v=n.onSetTableRowCollapse,x=n.onSetImportTableData,m=n.onSetExportTableData,Z=n.onSetConfigTable,b=(0,o.ZP)().data,g=(0,l.ZP)().data;return(0,i.useEffect)((function(){p(b),x({sample_data:[],option_field:null,option_values:[]}),Z({table_name:"grade",add_new:!0,filter_by_date:!0,filter_by_type:!1,filter_by_search:!0,import_data:!1,export_data:!0,table_selected:!0,allocation_student:!1,delete_all:!0,collapse_item:!0,edit_row:!0,delete_row:!0}),h(N),f(R),v(W)}),[b]),(0,i.useEffect)((function(){m(null===e||void 0===e?void 0:e.map((function(n){var e;return{"T\xean kh\u1ed1i l\u1edbp":"Kh\u1ed1i l\u1edbp ".concat(n.label),"M\xf4 t\u1ea3":n.description,"Thu\u1ed9c tr\u01b0\u1eddng h\u1ecdc":n.school.name,"G\u1ed3m c\xe1c m\xf4n h\u1ecdc":null===(e=n.subjects)||void 0===e?void 0:e.map((function(n){return null===n||void 0===n?void 0:n.name})).join(", "),"Ng\xe0y t\u1ea1o":(0,u.zM)(n.createdAt),"Ng\xe0y c\u1eadp nh\u1eadt":(0,u.zM)(n.updatedAt)}})))}),[e]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a.Z,{heading:"Qu\u1ea3n l\xfd kh\u1ed1i l\u1edbp",links:[{name:"Danh m\u1ee5c"},{name:"L\u1edbp h\u1ecdc",href:c.H.home.classroom.all_grade},{name:"Qu\u1ea3n l\xfd kh\u1ed1i l\u1edbp"}],sx:{mb:{xs:3,md:5}}}),(0,P.jsx)(s.Z,{}),(0,P.jsx)(q,{open:t,onClose:function(){return r(!1)},schools:g})]})}function E(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.ql,{children:(0,P.jsx)("title",{children:" Qu\u1ea3n l\xfd kh\u1ed1i l\u1edbp "})}),(0,P.jsx)(D,{})]})}}}]);
//# sourceMappingURL=815.20876dd7.chunk.js.map